::: {.question}

**Trade-off Theory: Taxes vs. Financial Distress**

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false

set.seed(905)
library(webexercises)
library(knitr)

# Unlevered firm value and tax rate
Vu        <- round(rnorm(1, mean = 300, sd = 10), 2)
tax_rate  <- 0.21

# Debt level and distress parameters (all in millions)
debt_level       <- round(rnorm(1, mean = 120, sd = 5), 2)
prob_distress    <- round(runif(1, min = 0.15, max = 0.35), 2)
loss_if_distress <- round(rnorm(1, mean = 80, sd = 5), 2)

pv_tax_shield   <- tax_rate * debt_level
pv_distress     <- prob_distress * loss_if_distress
levered_value   <- Vu + pv_tax_shield - pv_distress
net_gain_leverage <- levered_value - Vu

```

Aurora Technologies has an unlevered value of `r Vu`M and is considering issuing permanent debt of `r debt_level`M. The corporate tax rate is `r tax_rate*100`%. If Aurora uses this debt level, the probability (p) of financial distress will be `r round(100*prob_distress,2)`%, and the loss (L ) if distress occurs is estimated at `r loss_if_distress`M.

Assume a simple trade-off theory where: the present value of the interest tax shield is $\tau_c D$, the present value of expected financial distress costs is $p \times L$, compute (in millions):

  - (a) the present value of the tax shield, $PV(\text{tax shield})$
  - (b) the present value of expected financial distress costs, $PV(\text{distress})$
  - (c) the value of the levered firm, $V_L$
  - (d) the net effect of leverage on firm value, $V_L - V_U$

::: {.question-block}

<form onsubmit="event.preventDefault();" style="display:flex; gap:8px; align-items:center;"> <label for="module9_num_q4a_single"><strong>a. $PV(\text{tax shield})$ (millions):</strong></label> <input type="number" id="module9_num_q4a_single" name="module9_num_q4a_single" style="width:160px;" data-correct-answer=`r round(pv_tax_shield, 2)` data-tolerance="1" step="0.01" /> </form> <div id="feedback-module9_num_q4a_single" class="feedback" data-status="" style="display:none;"> ✅ $PV(\text{tax shield}) = \tau_c D = `r tax_rate` \times `r debt_level` =$ <b>`r round(pv_tax_shield, 2)`M</b>. </div>
:::

::: {.question-block}

<form onsubmit="event.preventDefault();" style="display:flex; gap:8px; align-items:center;"> <label for="module9_num_q4b_single"><strong>b. $PV(\text{distress})$ (millions):</strong></label> <input type="number" id="module9_num_q4b_single" name="module9_num_q4b_single" style="width:160px;" data-correct-answer=`r round(pv_distress,2)` data-tolerance="1" step="0.01" /> </form> <div id="feedback-module9_num_q4b_single" class="feedback" data-status="" style="display:none;"> ✅ $PV(\text{distress}) = p \times L = `r prob_distress` \times `r loss_if_distress` =$ <b>`r round(pv_distress, 2)`M</b>. </div>
:::

::: {.question-block}

<form onsubmit="event.preventDefault();" style="display:flex; gap:8px; align-items:center;"> <label for="module9_num_q4c_single"><strong>c. Levered firm value $V_L$ (millions):</strong></label> <input type="number" id="module9_num_q4c_single" name="module9_num_q4c_single" style="width:160px;" data-correct-answer=`r round(levered_value,2)` data-tolerance="1" step="0.01" /> </form> <div id="feedback-module9_num_q4c_single" class="feedback" data-status="" style="display:none;"> ✅ $V_L = V_U + PV(\text{tax shield}) - PV(\text{distress}) = `r Vu` + `r round(pv_tax_shield,2)` - `r round(pv_distress,2)` =$ <b>`r round(levered_value,2)`M</b>. </div>
:::

::: {.question-block}

<form onsubmit="event.preventDefault();" style="display:flex; gap:8px; align-items:center;"> <label for="module9_num_q4d_single"><strong>d. Net effect of leverage $V_L - V_U$ (millions):</strong></label> <input type="number" id="module9_num_q4d_single" name="module9_num_q4d_single" style="width:160px;" data-correct-answer=`r round(net_gain_leverage, 2)` data-tolerance="1" step="0.01" /> </form> <div id="feedback-module9_num_q4d_single" class="feedback" data-status="" style="display:none;"> ✅ $V_L - V_U = PV(\text{tax shield}) - PV(\text{distress}) = `r round(pv_tax_shield,2)` - `r round(pv_distress,2)` =$ <b>`r round(net_gain_leverage, 2)`M</b>. </div>
:::

:::