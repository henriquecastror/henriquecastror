---
title: 'Estrat√©gia Financeira/Financial Strategy'
subtitle: ' **Part 3 - ch.11 Optimal Portfolio Choice and the Capital Asset Pricing Model** '
author:
  - name: ' **Henrique C. Martins (henrique.martins@fgv.br)** '
    affiliation: '**[FGV/EAESP](https://eaesp.fgv.br/en) **'
date-modified: last-modified
title-block-banner: true
format:
  html:
    css: webex.css
    include-after-body: webex.js
---



```{r, setup}
#| eval: true
#| results: asis
#| echo: false
#| warning: false

library(webexercises)

```


**In-class problems about *chapter 11 Optimal Portfolio Choice and the Capital Asset Pricing Model* by [Berk and Demarzo](https://www.amazon.com.br/Corporate-Finance-Global-Jonathan-Berk/dp/1292304154). **


**Solve these problems in class or soon after.**



::: {.callout-important}
**Type your answers with "." instead of ","! For numerical answers, use 2 decimal places. For instance, if your answer is 0.12345 or 12.345%, type, "12.34" in the box.**
:::



## True or False


```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** Buying shares of security *i* improves the Sharpe ratio of a portfolio if its expected return does not exceed the required return."
q1_choices <- c( "True", answer="False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** The expected variance of a portfolio is the weighted average of the expected variances of the investments within it, using the portfolio weights."
q1_choices <- c( "True",answer= "False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** Diversification eliminates independent risks. The volatility of a large portfolio results from the common risk between the stocks in the portfolio"
q1_choices <- c(answer=  "True", "False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** Efficient portfolios offer investors the highest possible expected return for a given level of risk."
q1_choices <- c(answer= "True", "False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** To find the risk of a portfolio, we need to know the degree to which stock returns move together. Covariance and correlation measure the co-movement of returns."
q1_choices <- c(answer= "True", "False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** Short selling extends the set of possible portfolios."
q1_choices <- c( answer="True", answer="False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** The goal of an investor who is seeking to earn the highest possible expected return for any level  of volatility is to find the portfolio that generates the steepest possible line when combined with the risk-free investment."
q1_choices <- c( answer="True", "False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** Under the CAPM assumptions, the capital market line (CML), which is the set of portfolios obtained by combining the risk-free security and the market portfolio, is the set of portfolios with the highest possible expected return for any level of volatility."
q1_choices <- c( answer="True", "False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** The variance of a portfolio depends on the covariance of the stocks within it."
q1_choices <- c(answer= "True", "False")
cat(q1,longmcq(q1_choices))
```


```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** Portfolios that offer the highest expected return for a given variance (or standard deviation) are known as efficient portfolios."
q1_choices <- c(answer= "True", "False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** Investors mainly worry about those risks that can be eliminated through diversification."
q1_choices <- c("True",answer=  "False")
cat(q1,longmcq(q1_choices))
```

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** The market portfolio is a tangency portfolio according to the CAPM."
q1_choices <- c(answer= "True", "False")
cat(q1,longmcq(q1_choices))
```


```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
q1 <- " **Q:** Investors mainly worry about those risks that can be eliminated through diversification."
q1_choices <- c("True",answer=  "False")
cat(q1,longmcq(q1_choices))
```






## Expected Return and Volatility of a 2-asset portfolio

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false

w1 <- rnorm(1, mean = 0.40, sd = 0.1)
w2 <- 1 - w1

r1 <- rnorm(1, mean = 0.08, sd = 0.1)
r2 <- rnorm(1, mean = 0.06, sd = 0.1)

sigma1 <- rnorm(1, mean = 0.25, sd = 0.03)
sigma2 <- rnorm(1, mean = 0.15, sd = 0.02)

correl <- rnorm(1, mean = 0.5, sd = 0.2)

```

**Q:** What is the **expected return** of a portfolio that invests `r round(w1,3)` percent in Asset 1 (expected return = `r round(r1,3)`)  and the remaining `r round(w2,3)` in Asset 2 (expected return = `r round(r2,3)`)? 

`r fitb( round( (w1 * r1 + w2 * r2) ,3) , tol=0.001)`


**Q:** Assuming that the correlation between these assets is `r round(correl,3)`, and that the standard deviation of Asset 1 is `r round(sigma1,3)` while the standard deviation of Asset 2 is `r round(sigma2,3)`, What is the **variance** of the portfolio above?

`r fitb( round( w1^2 * sigma1^2 + w2^2 * sigma2^2 + 2 * w1 * w2 * correl * sigma1 * sigma2  ,3) , tol=0.001)`



**Q:** Assuming that the correlation between these assets is `r round(correl,3)`, and that the standard deviation of Asset 1 is `r round(sigma1,3)` while the standard deviation of Asset 2 is `r round(sigma2,3)`, What is the **standard deviation** of the portfolio above?

`r fitb( round( sqrt(w1^2 * sigma1^2 + w2^2 * sigma2^2 + 2 * w1 * w2 * correl * sigma1 * sigma2 ) ,3) , tol=0.001)`






___


::: {.callout-important}
**Type your answers with "." instead of ","! For numerical answers, use 2 decimal places. For instance, if your answer is 0.12345 or 12.345%, type, "12.34" in the box.**
:::

