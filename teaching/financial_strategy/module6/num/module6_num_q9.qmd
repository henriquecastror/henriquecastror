
::: {.question}

**Convertible Bond — Immediate Conversion Gain (%) — Quiz-Utils Layout**

```{r}
#| eval: true
#| results: asis
#| echo: false
#| warning: false
set.seed(809)
ratio       <- round(runif(1, 18, 30), 0)
stock_px    <- round(runif(1, 35, 85), 2)
bond_mkt    <- round(runif(1, 950, 1250), 2)
conv_value  <- round(ratio * stock_px, 2)
gain_pct    <- round(100 * (conv_value - bond_mkt) / bond_mkt, 2)
cat(sprintf("A convertible bond can be converted into <b>%d</b> shares. The stock is currently <b>$%1.2f</b> and the bond trades at <b>$%1.2f</b>.", 
            ratio, stock_px, bond_mkt))
```

::: {.question-block}
<form onsubmit="event.preventDefault();" style="display:flex; gap:8px; align-items:center;">
  <label for="module6_num_q9"><strong>Immediate conversion gain (%):</strong></label>
  <input type="number" id="module6_num_q9" name="module6_num_q9" step="0.01" style="width:220px;"
         data-correct-answer=`r gain_pct` data-tolerance="0.2" />
</form>
<div id="feedback-module6_num_q9" class="feedback" data-status="" style="display:none;">
✅ Gain(%) = \(100\times\frac{\text{conversion value} - \text{bond price}}{\text{bond price}}\) 
= 100 × (`r conv_value` − `r bond_mkt`) / `r bond_mkt` = <strong>`r gain_pct`%</strong>.
</div>
:::

:::
