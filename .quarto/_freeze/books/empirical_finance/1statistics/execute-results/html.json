{
  "hash": "dd148e8c4b2fc276e512bb46a6526907",
  "result": {
    "markdown": "\n# Basic Statistics\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n\n\n\n\n\n## Basic stats\n\nvamos começar importando seus dados. Como nossa finalidade é ilustrativa, nesse material, vamos usar uma base contida no próprio r chamada **iris**. \n\nQuando você fizer suas análises, precisa fazer upload da sua base.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Upload base iris  \ndados <- iris \nlibrary(\"writexl\")\nwrite_xlsx(dados,\"files/iris.xlsx\")\n```\n:::\n\n\n\nVamos começar explorando a base. Vamos olhar o que tem na base.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(dados) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t150 obs. of  5 variables:\n $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...\n $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...\n $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...\n $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...\n $ Species     : Factor w/ 3 levels \"setosa\",\"versicolor\",..: 1 1 1 1 1 1 1 1 1 1 ...\n```\n:::\n:::\n\n\n\nTemos cinco variáveis: Sepal.Length, Sepal.Width, Petal.Length, Petal.Width e Species. As primeiras 4 são variáveis numéricas, a última é uma variável string com três classificações diferentes.\n\nAo todo, a base tem 150 observações.\n\nVamos olhar as primeiras observações, apenas por curiosidade.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Upload base iris  \nhead(dados, 10) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1           5.1         3.5          1.4         0.2  setosa\n2           4.9         3.0          1.4         0.2  setosa\n3           4.7         3.2          1.3         0.2  setosa\n4           4.6         3.1          1.5         0.2  setosa\n5           5.0         3.6          1.4         0.2  setosa\n6           5.4         3.9          1.7         0.4  setosa\n7           4.6         3.4          1.4         0.3  setosa\n8           5.0         3.4          1.5         0.2  setosa\n9           4.4         2.9          1.4         0.2  setosa\n10          4.9         3.1          1.5         0.1  setosa\n```\n:::\n:::\n\n\nApenas por conveniência, faça um attach do r à sua base.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nattach(dados)\n```\n:::\n\n\n\n### Média e Mediana\n\nPrimeiro passo é sempre calcular a média das variáveis, Também vamos calcular a mediana.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5.843333\n```\n:::\n\n```{.r .cell-code}\nmean(Sepal.Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3.057333\n```\n:::\n\n```{.r .cell-code}\nmean(Petal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3.758\n```\n:::\n\n```{.r .cell-code}\nmean(Petal.Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.199333\n```\n:::\n\n```{.r .cell-code}\nmedian(Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5.8\n```\n:::\n\n```{.r .cell-code}\nmedian(Sepal.Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3\n```\n:::\n\n```{.r .cell-code}\nmedian(Petal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4.35\n```\n:::\n\n```{.r .cell-code}\nmedian(Petal.Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.3\n```\n:::\n:::\n\n\n\n\n### Mínimos e Máximos\n\nOk, vamos calcular os valores mínimos e máximos de cada variável numérica. Esse passo é importante para ver se há algum erro na sua base de dados. Se você encontrar valores mínimos ou máximos inesperados ou que não fazem sentido, você precisará checar se sua coleta foi feita de forma correta. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmin(Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4.3\n```\n:::\n\n```{.r .cell-code}\nmax(Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 7.9\n```\n:::\n\n```{.r .cell-code}\nmin(Sepal.Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2\n```\n:::\n\n```{.r .cell-code}\nmax(Sepal.Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4.4\n```\n:::\n\n```{.r .cell-code}\nmin(Petal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1\n```\n:::\n\n```{.r .cell-code}\nmax(Petal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 6.9\n```\n:::\n\n```{.r .cell-code}\nmin(Petal.Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.1\n```\n:::\n\n```{.r .cell-code}\nmax(Petal.Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2.5\n```\n:::\n:::\n\n      \nVocê também pode usar a função range, que oferece os valores extremos da variável.\n  \n\n::: {.cell}\n\n```{.r .cell-code}\nrange(Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4.3 7.9\n```\n:::\n:::\n\n\nSe você quiser calcular a distância entre os valores mínimo e máximo, pode fazer:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmax(Sepal.Length) - min(Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3.6\n```\n:::\n:::\n\n\nSe sua base tiver valores em branco, use a opção a seguir:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(Sepal.Length, na.rm = TRUE) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5.843333\n```\n:::\n:::\n\n\n\n### Diversas descritivas\n\nPara sua conveniência, você pode criar uma tabela com todas as descritivas de todas as variáveis. Se sua base for pequena, isso é útil. Mas se for muito longa, a visualização será menos conveniente.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(dados)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   \n Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  \n 1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  \n Median :5.800   Median :3.000   Median :4.350   Median :1.300  \n Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  \n 3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  \n Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  \n       Species  \n setosa    :50  \n versicolor:50  \n virginica :50  \n                \n                \n                \n```\n:::\n:::\n\n\nSe você precisar desses dados por grupo de Species, faça o seguinte:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nby(dados, dados$Species, summary)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ndados$Species: setosa\n  Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   \n Min.   :4.300   Min.   :2.300   Min.   :1.000   Min.   :0.100  \n 1st Qu.:4.800   1st Qu.:3.200   1st Qu.:1.400   1st Qu.:0.200  \n Median :5.000   Median :3.400   Median :1.500   Median :0.200  \n Mean   :5.006   Mean   :3.428   Mean   :1.462   Mean   :0.246  \n 3rd Qu.:5.200   3rd Qu.:3.675   3rd Qu.:1.575   3rd Qu.:0.300  \n Max.   :5.800   Max.   :4.400   Max.   :1.900   Max.   :0.600  \n       Species  \n setosa    :50  \n versicolor: 0  \n virginica : 0  \n                \n                \n                \n------------------------------------------------------------ \ndados$Species: versicolor\n  Sepal.Length    Sepal.Width     Petal.Length   Petal.Width          Species  \n Min.   :4.900   Min.   :2.000   Min.   :3.00   Min.   :1.000   setosa    : 0  \n 1st Qu.:5.600   1st Qu.:2.525   1st Qu.:4.00   1st Qu.:1.200   versicolor:50  \n Median :5.900   Median :2.800   Median :4.35   Median :1.300   virginica : 0  \n Mean   :5.936   Mean   :2.770   Mean   :4.26   Mean   :1.326                  \n 3rd Qu.:6.300   3rd Qu.:3.000   3rd Qu.:4.60   3rd Qu.:1.500                  \n Max.   :7.000   Max.   :3.400   Max.   :5.10   Max.   :1.800                  \n------------------------------------------------------------ \ndados$Species: virginica\n  Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   \n Min.   :4.900   Min.   :2.200   Min.   :4.500   Min.   :1.400  \n 1st Qu.:6.225   1st Qu.:2.800   1st Qu.:5.100   1st Qu.:1.800  \n Median :6.500   Median :3.000   Median :5.550   Median :2.000  \n Mean   :6.588   Mean   :2.974   Mean   :5.552   Mean   :2.026  \n 3rd Qu.:6.900   3rd Qu.:3.175   3rd Qu.:5.875   3rd Qu.:2.300  \n Max.   :7.900   Max.   :3.800   Max.   :6.900   Max.   :2.500  \n       Species  \n setosa    : 0  \n versicolor: 0  \n virginica :50  \n                \n                \n                \n```\n:::\n:::\n\n\n\n### Desvio-padrão e variância\n\nPara finalizar, vamos calcular o desvio-padrão e a variância.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsd(Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8280661\n```\n:::\n\n```{.r .cell-code}\nvar(Sepal.Length) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.6856935\n```\n:::\n\n```{.r .cell-code}\nlapply(dados[, 1:4], sd)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$Sepal.Length\n[1] 0.8280661\n\n$Sepal.Width\n[1] 0.4358663\n\n$Petal.Length\n[1] 1.765298\n\n$Petal.Width\n[1] 0.7622377\n```\n:::\n:::\n\n\n\n\n\n### Moda\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntab <- table(dados$Sepal.Length) # number of occurrences for each unique value\nsort(tab, decreasing = TRUE) # sort highest to lowest\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n  5 5.1 6.3 5.7 6.7 5.5 5.8 6.4 4.9 5.4 5.6   6 6.1 4.8 6.5 4.6 5.2 6.2 6.9 7.7 \n 10   9   9   8   8   7   7   7   6   6   6   6   6   5   5   4   4   4   4   4 \n4.4 5.9 6.8 7.2 4.7 6.6 4.3 4.5 5.3   7 7.1 7.3 7.4 7.6 7.9 \n  3   3   3   3   2   2   1   1   1   1   1   1   1   1   1 \n```\n:::\n:::\n\n\n\n\n\n\n\n## Correlation\n\nHere is a correlation table\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\ndados_numericos <- select(dados,-Species)\ncor(dados_numericos)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n             Sepal.Length Sepal.Width Petal.Length Petal.Width\nSepal.Length    1.0000000  -0.1175698    0.8717538   0.8179411\nSepal.Width    -0.1175698   1.0000000   -0.4284401  -0.3661259\nPetal.Length    0.8717538  -0.4284401    1.0000000   0.9628654\nPetal.Width     0.8179411  -0.3661259    0.9628654   1.0000000\n```\n:::\n:::\n\n\n\n## Frequence table\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(iris$Species)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n    setosa versicolor  virginica \n        50         50         50 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(mtcars$gear)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n 3  4  5 \n15 12  5 \n```\n:::\n:::\n\n\n\n## T-test\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados2 <- mtcars\nstr(dados2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t32 obs. of  11 variables:\n $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...\n $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...\n $ disp: num  160 160 108 258 360 ...\n $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...\n $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...\n $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...\n $ qsec: num  16.5 17 18.6 19.4 17 ...\n $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...\n $ am  : num  1 1 1 0 0 0 0 0 0 0 ...\n $ gear: num  4 4 4 3 3 3 3 4 4 4 ...\n $ carb: num  4 4 1 1 2 1 4 2 2 4 ...\n```\n:::\n\n```{.r .cell-code}\nt.test(mpg ~ am, data=dados2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWelch Two Sample t-test\n\ndata:  mpg by am\nt = -3.7671, df = 18.332, p-value = 0.001374\nalternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0\n95 percent confidence interval:\n -11.280194  -3.209684\nsample estimates:\nmean in group 0 mean in group 1 \n       17.14737        24.39231 \n```\n:::\n:::\n\n\n## Cross tabulation  \n \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# cross tabulation gear * carb\n\ntable(mtcars$gear,mtcars$carb)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   \n    1 2 3 4 6 8\n  3 3 4 3 5 0 0\n  4 4 4 0 4 0 0\n  5 0 2 0 1 1 1\n```\n:::\n:::\n\n\n\n## OLS Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit <-lm(mpg ~ am + hp + wt , data=dados2)\nsummary(fit)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = mpg ~ am + hp + wt, data = dados2)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-3.4221 -1.7924 -0.3788  1.2249  5.5317 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 34.002875   2.642659  12.867 2.82e-13 ***\nam           2.083710   1.376420   1.514 0.141268    \nhp          -0.037479   0.009605  -3.902 0.000546 ***\nwt          -2.878575   0.904971  -3.181 0.003574 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.538 on 28 degrees of freedom\nMultiple R-squared:  0.8399,\tAdjusted R-squared:  0.8227 \nF-statistic: 48.96 on 3 and 28 DF,  p-value: 2.908e-11\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}