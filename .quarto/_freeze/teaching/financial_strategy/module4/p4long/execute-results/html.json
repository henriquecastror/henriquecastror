{
  "hash": "8a6c166a32a7c11cf96274f48192d42f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Module 4:  Long Answer Questions\"\n---\n\n\n\n::: {.callout-warning}\n### For students\n\n\n**Last updated:** 16/08/2025 15:07\n\n\nThe questions are based on or inspired by the following references:\n\n- [**Berk & DeMarzo, Corporate Finance, 5th ed. (2020)**](https://www.amazon.com.br/Corporate-Finance-Global-Jonathan-Berk/dp/1292304154)  \n- [**Brealey & Myers, Principles of Corporate Finance, 13th ed. (2020)**](https://www.amazon.com.br/Principles-Corporate-Finance-Richard-Brealey/dp/1260565556/ref=sr_1_3?refinements=p_27%3ABrealey+Myers&s=books&sr=1-3)\n\n---\n\nüí° *You can also press `Ctrl + P` (or `Cmd + P` on Mac) to print or save your responses as a `.pdf` file.*\n\n\n---\n\n‚ö†Ô∏è _These exercises are **powered by AI-assisted technologies** and **may contain occasional formatting or logic errors**. Please report any issues you encounter so I can improve the experience._\n\n\n\n::: \n\n___\n\n\n\n### üìò Part 1 (until Midterm)\n\n| Chapter | Slides | T/F | MCQ | Numeric | Long |\n|--------:|:------:|:---:|:---:|:-------:|:----:|\n| ch12    | [üéûÔ∏è](p4.html) | [‚úÖ](p4tf.html) | [‚ùì](p4mcq.html) | [üî¢](p4num.html) | [üìù](p4long.html) |\n\n\n___\n\n**Answer the following questions based on the discussions in class.**\n\n\n<script>\n  const SLIDE_ID = \"module4_p4long\";\n</script>\n\n\n<!-- === login-start.html (com prote√ß√£o para p√°ginas e slides + turbo + warmup) === -->\n\n<style>\n  /* Card padr√£o (p√°ginas normais) */\n  #login-form {\n    max-width: 300px;\n    margin: 100px auto 40px auto;\n    padding: 20px;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    font-family: system-ui,-apple-system,Segoe UI,Roboto,sans-serif;\n    box-shadow: 0 0 10px rgba(0,0,0,0.1);\n    background: #fff;\n    box-sizing: border-box;\n  }\n  #login-form input {\n    width: 100%; padding: 10px; margin: 6px 0;\n    border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box;\n  }\n  #login-form button {\n    width: 100%; padding: 10px; margin-top: 10px;\n    background-color: #0066cc; color: #fff; border: 0; border-radius: 5px; cursor: pointer;\n  }\n  #login-error { color: red; text-align: center; margin-top: 10px; }\n  #loading-msg{ display:none; text-align:center; margin-top:10px; color:gray; }\n\n  /* Desabilitado durante autentica√ß√£o */\n  #login-form button:disabled { opacity:.6; cursor:not-allowed; }\n  #login-form input:disabled  { opacity:.7; }\n\n  /* Conte√∫do de p√°ginas normais (fica atr√°s do login at√© destravar) */\n  html.locked #after-login-content,\n  body.locked #after-login-content { display: none !important; }\n\n  /* Slides (Reveal.js): desfoca deck e bloqueia intera√ß√£o */\n  html.locked.reveal-page .reveal,\n  body.locked.reveal-page .reveal { filter: blur(4px); pointer-events: none; user-select: none; }\n\n  #login-scrim { display:none; }\n  html.locked.reveal-page #login-scrim,\n  body.locked.reveal-page #login-scrim{\n    display:block; position:fixed; inset:0; background:rgba(255,255,255,.92); z-index:9998;\n  }\n  html.locked.reveal-page #login-form,\n  body.locked.reveal-page #login-form{\n    position: fixed; top:50%; left:50%; transform: translate(-50%,-50%);\n    margin:0; max-width:340px; width:min(340px,92vw); z-index:9999;\n  }\n\n  /* Oculta o \"Welcome\" nos slides */\n  .reveal-page #welcome-message { display: none !important; }\n\n  /* Remember me */\n  .remember-row{\n    display:flex; align-items:center; gap:8px; margin-top:6px; font-size:.95rem; color:#444; white-space:nowrap;\n  }\n  .remember-row label{ display:flex; align-items:center; gap:6px; cursor:pointer; }\n\n  /* Fallback duro para p√°ginas comuns: esconde TUDO (qualquer descendente) menos o form/scrim\n     enquanto locked. Evita vazamentos quando o tema injeta containers. */\n  html.locked body:not(.reveal-page) :not(#login-form):not(#login-form *):not(#login-scrim):not(script):not(style):not(link) {\n    display: none !important;\n  }\n\n  /* Garante que o form fique acima de qualquer layout do tema */\n  #login-form { position: relative; z-index: 10000; }\n  #login-scrim { z-index: 9998; }\n\n  /* Scrim e formul√°rio fixos tamb√©m em p√°ginas N√ÉO-reveal enquanto locked */\n  html.locked #login-scrim,\n  body.locked #login-scrim {\n    display: block !important;\n    position: fixed !important;\n    inset: 0 !important;\n    background: #ffffff !important;\n    z-index: 2147483646 !important;\n  }\n  html.locked #login-form,\n  body.locked #login-form {\n    position: fixed !important;\n    top: 50% !important;\n    left: 50% !important;\n    transform: translate(-50%, -50%) !important;\n    margin: 0 !important;\n    max-width: 340px !important;\n    width: min(340px, 92vw) !important;\n    z-index: 2147483647 !important;\n  }\n\n  /* Evita rolagem/scroll do conte√∫do ao fundo enquanto locked */\n  html.locked, body.locked { overflow: hidden !important; }\n</style>\n\n<!-- Aplica 'locked' em <html> imediatamente e em <body> quando dispon√≠vel + preconnect -->\n<script>\n  (function(){\n    const addLocked = el => { if (el && !el.classList.contains('locked')) el.classList.add('locked'); };\n    addLocked(document.documentElement);\n    if (document.body) { addLocked(document.body); }\n    else { document.addEventListener('DOMContentLoaded', () => addLocked(document.body)); }\n\n    // preconnect/dns-prefetch para acelerar chamadas ao GAS de login\n    try {\n      const l1=document.createElement('link'); l1.rel='preconnect';   l1.href='https://script.google.com'; document.head.appendChild(l1);\n      const l2=document.createElement('link'); l2.rel='dns-prefetch'; l2.href='https://script.google.com'; document.head.appendChild(l2);\n    } catch(_) {}\n  })();\n</script>\n\n<!-- shim seguro: define onLoginSuccess se ainda n√£o existir -->\n<script>\n  if (typeof window.onLoginSuccess !== 'function') {\n    window.onLoginSuccess = function(studentId){\n      try {\n        const sid = String(studentId || '').trim();\n        window.studentId = sid;\n        localStorage.setItem('studentId', sid);\n        // compat com widgets antigos\n        document.dispatchEvent(new CustomEvent('auth:login',   { detail: { studentId: sid } }));\n        setTimeout(() => window.dispatchEvent(new CustomEvent('login:success', { detail:{ studentId: sid } })), 0);\n        // hook imediato para o notice center (se j√° carregado)\n        if (window.noticeCenter && typeof window.noticeCenter.onLogin === 'function') {\n          window.noticeCenter.onLogin(sid);\n        }\n        if (window.VHCM) window.VHCM.lastLoginAt = Date.now();\n        console.debug('[Login] onLoginSuccess ‚Üí', sid);\n      } catch(e) {\n        console.warn('onLoginSuccess shim warn:', e);\n      }\n    };\n  }\n</script>\n\n<form id=\"login-form\" onsubmit=\"event.preventDefault(); validateLogin();\">\n  <h3 style=\"text-align:center;\">Login</h3>\n  <input type=\"text\" id=\"username\" placeholder=\"Username\" autocomplete=\"username\" required />\n  <input type=\"password\" id=\"password\" placeholder=\"Password\" autocomplete=\"current-password\" required />\n  <div class=\"remember-row\">\n    <label><input type=\"checkbox\" id=\"remember-me\" checked /> Remember me</label>\n  </div>\n  <button type=\"submit\" id=\"login-submit\">Enter</button>\n  <div id=\"loading-msg\"></div>\n  <div id=\"login-error\"></div>\n</form>\n\n<div id=\"login-scrim\" aria-hidden=\"true\"></div>\n\n<div id=\"after-login-content\" style=\"display:none;\">\n  <h4 id=\"welcome-message\" style=\"text-align:center; display:none; margin-top:10px; font-size:1.8em; color:#333;\"></h4>\n</div>\n\n<script>\n  /***** CONFIG *****/\n  const REMEMBER_PASSWORD  = true;\n  const GAS_URL            = 'https://script.google.com/macros/s/AKfycbxb3Z73DvsgGiGwK-jVp89jA5EGEYk24nbPNblQiNxFZPYvvDTvO-v4S4N_L-4YZ8KZfQ/exec';\n  const SESSION_MAX_HOURS  = 8;     // validade do \"lembrado\"\n  const FAST_WINDOW_HOURS  = 2;     // turbo: libera instant√¢neo\n  const VALIDATE_TIMEOUTMS = 3000;  // timeout da valida√ß√£o\n\n  /* üî• Warm-up silencioso do GAS: acorda a fun√ß√£o antes do 1¬∫ login real */\n  window.addEventListener('load', () => {\n    try {\n      const warm = new Image();\n      warm.referrerPolicy = 'no-referrer';\n      warm.src = `${GAS_URL}?username=&password=&page=WARMUP&t=${Date.now()}`;\n    } catch(_) {}\n  });\n\n  /***** Marca slides (se houver Reveal) *****/\n  document.addEventListener('DOMContentLoaded', () => {\n    if (document.querySelector('.reveal')) document.body.classList.add('reveal-page');\n  });\n\n  /***** Pr√©-preenche campos com Remember (se houver) *****/\n  document.addEventListener('DOMContentLoaded', () => {\n    try{\n      const u = localStorage.getItem('fs_user');\n      const p = localStorage.getItem('fs_pass');\n      if (u) document.getElementById('username').value = u;\n      if (REMEMBER_PASSWORD && p) document.getElementById('password').value = p;\n    }catch(_){}\n  });\n\n  /***** Storage helpers *****/\n  function saveRemember(u,p,checked){\n    try{\n      if(checked){\n        localStorage.setItem('fs_user', u);\n        localStorage.setItem('fs_last_login_at', Date.now().toString());\n        if (REMEMBER_PASSWORD) localStorage.setItem('fs_pass', p); else localStorage.removeItem('fs_pass');\n      }else{\n        localStorage.removeItem('fs_user'); localStorage.removeItem('fs_pass'); localStorage.removeItem('fs_last_login_at');\n      }\n    }catch(_){}\n  }\n  function getRemember(){\n    try{\n      const u=localStorage.getItem('fs_user');\n      const p=localStorage.getItem('fs_pass');\n      const t=parseInt(localStorage.getItem('fs_last_login_at')||'0',10);\n      if(!u||!t) return null; return {u,p,t};\n    }catch(_){ return null; }\n  }\n  const within=(ts,h)=> (Date.now()-ts) < h*3600*1000;\n\n  /* üîí Desativa/Reativa o form durante autentica√ß√£o */\n  function setAuthLoading(isLoading){\n    const btn = document.getElementById('login-submit');\n    const u   = document.getElementById('username');\n    const p   = document.getElementById('password');\n    const cb  = document.getElementById('remember-me');\n    if (btn){\n      btn.disabled = isLoading;\n      btn.textContent = isLoading ? 'Signing in...' : 'Enter';\n    }\n    [u,p,cb].forEach(el => { if (el) el.disabled = isLoading; });\n  }\n\n  /***** GAS helpers *****/\n  function logWithImage(u,p,page){\n    const img=new Image(); img.referrerPolicy='no-referrer';\n    img.src=`${GAS_URL}?username=${encodeURIComponent(u)}&password=${encodeURIComponent(p||'')}&page=${encodeURIComponent(page)}&t=${Date.now()}`;\n  }\n  async function gasAuth(u,p,page,timeoutMs){\n    async function _once(ms){\n      const ctrl=new AbortController();\n      const timer=setTimeout(()=>ctrl.abort('timeout'), ms||0);\n      try{\n        const res=await fetch(`${GAS_URL}?username=${encodeURIComponent(u)}&password=${encodeURIComponent(p||'')}&page=${encodeURIComponent(page)}`, {signal:ctrl.signal, cache:'no-store'});\n        return (await res.text()||'').trim();\n      } finally { clearTimeout(timer); }\n    }\n    try{\n      return await _once(timeoutMs||12000);   // 1¬™ tentativa\n    }catch(_){\n      return await _once(15000);              // retry mais folgado\n    }\n  }\n\n  /***** UI helpers *****/\n  function unlockAs(u){\n    const welcome=document.getElementById('welcome-message');\n    if (welcome && !document.body.classList.contains('reveal-page')){\n      welcome.textContent=`Welcome, ${u}!`; welcome.style.display='block';\n    }\n    document.getElementById('login-form').style.display='none';\n    const after=document.getElementById('after-login-content'); if(after) after.style.display='block';\n\n    // Remover 'locked' de html e body\n    document.documentElement.classList.remove('locked');\n    if (document.body) document.body.classList.remove('locked');\n\n    const scrim=document.getElementById('login-scrim'); if(scrim) scrim.style.display='none';\n  }\n\n  /***** Auto-login com janela turbo (tamb√©m nos slides) *****/\n  document.addEventListener('DOMContentLoaded', async () => {\n    const saved=getRemember(); if(!saved) return;\n    const page=location.pathname;\n\n    if (within(saved.t, FAST_WINDOW_HOURS)) {\n      // libera j√° e registra em background\n      unlockAs(saved.u);\n      onLoginSuccess(saved.u); // mant√©m studentId para outros scripts\n\n      saveRemember(saved.u, saved.p, true);\n      logWithImage(saved.u, saved.p, page);\n\n      // checagem silenciosa (opcional)\n      try { const r=await gasAuth(saved.u, saved.p, 'CHECK', 12000); if(r!=='OK'){ /* opcional: relock */ } } catch(_) {}\n      return;\n    }\n\n    if (within(saved.t, SESSION_MAX_HOURS)) {\n      const loading=document.getElementById('loading-msg');\n      loading.textContent='Checking saved login...'; loading.style.display='block';\n      try{\n        const r=await gasAuth(saved.u, saved.p, page, VALIDATE_TIMEOUTMS);\n        loading.style.display='none';\n        if(r==='OK'){ unlockAs(saved.u); onLoginSuccess(saved.u); saveRemember(saved.u, saved.p, true); }\n      }catch(_){\n        // timeout: libera e registra em background\n        loading.style.display='none';\n        unlockAs(saved.u); onLoginSuccess(saved.u); saveRemember(saved.u, saved.p, true); logWithImage(saved.u, saved.p, page);\n      }\n    }\n  });\n\n  /***** Login manual *****/\n  async function validateLogin(rememberOverride){\n    const u=document.getElementById('username').value.trim();\n    const p=document.getElementById('password').value.trim();\n    const cb=document.getElementById('remember-me');\n    const remember = (rememberOverride!==undefined) ? rememberOverride : (cb? cb.checked : true);\n\n    const err=document.getElementById('login-error');\n    const load=document.getElementById('loading-msg');\n    err.textContent='';\n    load.textContent='Authenticating your credentials. This may take a few seconds...';\n    load.style.display='block';\n    setAuthLoading(true);\n\n    const page=location.pathname;\n    try{\n      const r=await gasAuth(u,p,page,VALIDATE_TIMEOUTMS);\n      load.style.display='none';\n      if (r==='OK'){ saveRemember(u,p,remember); unlockAs(u); onLoginSuccess(u); }\n      else if (r==='FAIL'){ err.textContent='Invalid username or password.'; }\n      else { err.textContent='Missing credentials.'; }\n    }catch(_){\n      load.style.display='none'; err.textContent='Network error. Please try again.';\n    }finally{\n      if (document.getElementById('login-form').style.display !== 'none') {\n        setAuthLoading(false);\n      }\n    }\n  }\n\n  // Auto preenche (se j√° houver credenciais lembradas)\n  document.addEventListener('DOMContentLoaded', ()=>{\n    try{\n      const u=localStorage.getItem('fs_user'); const p=localStorage.getItem('fs_pass');\n      if(u){ document.getElementById('username').value=u; }\n      if(p && REMEMBER_PASSWORD){ document.getElementById('password').value=p; }\n      const cb=document.getElementById('remember-me'); if(cb) cb.checked=true;\n    }catch(_){}\n  });\n\n  /* Auto-wrap robusto ‚Äî apenas para p√°ginas N√ÉO-Reveal */\n  document.addEventListener('DOMContentLoaded', () => {\n    try {\n      if (document.querySelector('.reveal') || document.body.classList.contains('reveal-page')) return;\n\n      const wrapper = document.getElementById('after-login-content');\n      if (!wrapper) return;\n\n      const root = wrapper.parentElement || document.body;\n      const loginForm  = document.getElementById('login-form');\n      const loginScrim = document.getElementById('login-scrim');\n\n      const isKeep = (el) =>\n        el === wrapper || el === loginForm || el === loginScrim ||\n        el.tagName === 'SCRIPT' || el.tagName === 'STYLE' || el.tagName === 'LINK';\n\n      Array.from(root.children).forEach(el => {\n        if (!isKeep(el) && !wrapper.contains(el)) {\n          wrapper.appendChild(el);\n        }\n      });\n    } catch (e) {\n      console.warn('auto-wrap (non-reveal) warn:', e);\n    }\n  });\n</script>\n\n\n\n::: {.webex-box}\n\n<div style=\"display: flex; align-items: start; gap: 8px;\">\n  <div style=\"font-weight: bold; min-width: 40px;\">Q1.</div>\n  <div style=\"flex: 1;\">\n::: {.question-block}\n\n<label for=\"module4_long_q1\"><strong>Explain the difference between total risk and systematic (market) risk in the context of the Capital Asset Pricing Model (CAPM). Why does only systematic risk affect a company's cost of equity capital? </strong></label><br><br>\n\n<textarea id=\"module4_long_q1\" name=\"module4_long_q1\" rows=\"4\" cols=\"60\" placeholder=\"Write your answer here...\" style=\"width:90%; padding:25px;\"></textarea>\n\n:::\n\n\n  </div>\n</div>\n\n<div style=\"display: flex; align-items: start; gap: 8px;\">\n  <div style=\"font-weight: bold; min-width: 40px;\">Q2.</div>\n  <div style=\"flex: 1;\">\n::: {.question-block}\n\n<label for=\"module4_long_q2\"><strong>Describe how a firm can estimate the cost of capital for a new project using comparable companies. What adjustments need to be made if the comparable firms have different capital structures (leverage) than the project? Include in your answer the concepts of unlevered beta and re-leveraging.</strong></label><br><br>\n\n<textarea id=\"module4_long_q2\" name=\"module4_long_q2\" rows=\"4\" cols=\"60\" placeholder=\"Write your answer here...\" style=\"width:90%; padding:25px;\"></textarea>\n\n:::\n\n\n  </div>\n</div>\n\n<div style=\"display: flex; align-items: start; gap: 8px;\">\n  <div style=\"font-weight: bold; min-width: 40px;\">Q3.</div>\n  <div style=\"flex: 1;\">\n::: {.question-block}\n\n<label for=\"module4_long_q3\"><strong>Discuss the practical challenges in estimating the market risk premium used in CAPM. What are the limitations of using historical averages, and what alternative methods can firms use to estimate the expected market return?</strong></label><br><br>\n\n<textarea id=\"module4_long_q3\" name=\"module4_long_q3\" rows=\"4\" cols=\"60\" placeholder=\"Write your answer here...\" style=\"width:90%; padding:25px;\"></textarea>\n\n:::\n\n\n  </div>\n</div>\n\n<div style=\"display: flex; align-items: start; gap: 8px;\">\n  <div style=\"font-weight: bold; min-width: 40px;\">Q4.</div>\n  <div style=\"flex: 1;\">\n::: {.question-block}\n\n<label for=\"module4_long_q4\"><strong>Explain the difference between using the CAPM approach versus using bond yields to estimate the cost of debt. </strong></label><br><br>\n\n<textarea id=\"module4_long_q4\" name=\"module4_long_q4\" rows=\"4\" cols=\"60\" placeholder=\"Write your answer here...\" style=\"width:90%; padding:25px;\"></textarea>\n\n:::\n\n\n  </div>\n</div>\n\n<div style=\"display: flex; align-items: start; gap: 8px;\">\n  <div style=\"font-weight: bold; min-width: 40px;\">Q5.</div>\n  <div style=\"flex: 1;\">\n::: {.question-block}\n\n<label for=\"module4_long_q5\"><strong>Discuss how the use of debt financing impacts a firm‚Äôs equity beta. Explain the intuition behind why increasing leverage amplifies the risk to equity holders, even if the firm‚Äôs asset beta remains constant.</strong></label><br><br>\n\n<textarea id=\"module4_long_q5\" name=\"module4_long_q5\" rows=\"4\" cols=\"60\" placeholder=\"Write your answer here...\" style=\"width:90%; padding:25px;\"></textarea>\n\n:::\n\n\n  </div>\n</div>\n\n\n\n\n\n:::\n\n\n</div> <!-- Fecha #after-login-content -->\n\n<script>\n  document.documentElement.classList.remove(\"locked\");\n  if (document.body) document.body.classList.remove(\"locked\");\n</script>\n\n\n\n\n\n\n<div style=\"text-align: center; margin-top: 2rem;\">\n  <a href=\"/teaching/financial_strategy/\" class=\"btn btn-outline-primary btn-lg\">\n    üîô\n  </a>\n</div>",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}