{"title":"Empirical Methods in Finance","markdown":{"yaml":{"title":"Empirical Methods in Finance","subtitle":"Part 1","author":"Henrique C. Martins","format":{"revealjs":{"slide-number":true,"theme":"simple","chalkboard":true,"preview-links":"auto","logo":"figs/background8.png","css":"logo.css","footer":"**[**Henrique C. Martins**] [[henrique.martins@fgv.br](mailto:henrique.martins@fgv.br)][Do not use without permission]**  ","multiplex":true,"scrollable":true}},"title-slide-attributes":{"data-background-color":"#b1cafa"},"include-after":"<script type=\"text/javascript\">\n  Reveal.on('ready', event => {\n    if (event.indexh === 0) {\n      document.querySelector(\"div.has-logo > img.slide-logo\").style.display = \"none\";\n    }\n  });\n  Reveal.addEventListener('slidechanged', (event) => {\n    if (event.indexh === 0) {\n      Reveal.configure({ slideNumber: null });\n      document.querySelector(\"div.has-logo > img.slide-logo\").style.display = \"none\";\n    }\n    if (event.indexh === 1) {\n      Reveal.configure({ slideNumber: 'c' });\n      document.querySelector(\"div.has-logo > img.slide-logo\").style.display = null;\n    }\n  });\n</script>\n"},"headingText":"Basic Statistics","containsRefs":false,"markdown":"\n\n\n\n\n\n## Basic stats\n\nThe following are simple examples of how to compute basic statistics using R. We will start importing the data. Let's use the free dataset `iris`, available in R.\n\n\n```{r}\n#| warning: false\niris <- iris \n```\n\n\nFirst, explore the dataset\n\n```{r}\n#| warning: false\nstr(iris) \n```\n\n\nWe have 5 variables: Sepal.Length, Sepal.Width, Petal.Length, Petal.Width e Species. The first four are numeric while the last is a string with three groups: setosa, versicolor, and virginica. The dataset contains 150 observations\n\n\nLet's take a look at the first 10 observations in the dataset.\n\n```{r}\n#| warning: false\nhead(iris, 10) \n```\n\n\nNow, let's take a look at the first 5 observations of each species.\n\n\n```{r}\n#| warning: false\nby(iris,iris[\"Species\"],head,n=5)\n```\n\n\n\n\n\n\n\n### Mean and Median\n\nNow, let's find the means and the medians of the four numeric variables. The most intuitive way is as follows.\n```{r}\n#| warning: false\nmean(iris$Sepal.Length)\nmean(iris$Sepal.Width)\nmean(iris$Petal.Length)\nmean(iris$Petal.Width)\n \nmedian(iris$Sepal.Length)\nmedian(iris$Sepal.Width)\nmedian(iris$Petal.Length)\nmedian(iris$Petal.Width)\n```\n\nBut this is the easiest way.\n```{r}\n#| warning: false\nsummary(iris)\n```\n\n\nSee that in the code above you also have the number of observations of each species. If you wanted to know how many observations you have in the dataset, you could use the following line. This might be important in the future.\n\n```{r}\n#| warning: false\nlength(iris$Species)\n```\n\n\nIf you want the same thing by group, do as follows:\n\n```{r}\n#| warning: false\nby(iris, iris$Species, summary)\n```\n\n\n\n\n\n\n\n### Minimum and maximum \n\nThe function `summary`already gives you the mininum and maximum of all variables. But sometimes you need to find only these values. You could use the following lines.\n\n\n```{r}\n#| warning: false\nmin(iris$Sepal.Length)\nmax(iris$Sepal.Length)\n```\n      \nYou could also find the range of values to find the extreme values of a variable.\n\n```{r}\n#| warning: false\nrange(iris$Sepal.Length)\n```\n\n\n\nIf you need the distance between the extreme values, you can use:\n\n```{r}\n#| warning: false\nmax(iris$Sepal.Length) - min(iris$Sepal.Length)\n```\n\n\n\n\n\n\n\n\n\n\n\n\n### Standard-deviation and Variance\n\nFinally, you can also compute the Standard-deviation and Variance of one variable as follows.\n\n\n```{r}\n#| warning: false\nsd(iris$Sepal.Length)\nvar(iris$Sepal.Length) \n```\nIf you want the standard deviaation of all variables:\n\n```{r}\n#| warning: false\nlapply(iris[, 1:4], sd)\n```\n\n\n\n\n\n\n\n\n\n\n\n## Correlation\n\nThe following lines will show you a correlation table. First, you need to create a new dataframe with only the numeric variables. This is an extremely important table to your academic paper.\n\n```{r}\n#| warning: false\n#| message: false\n#| error: false\nlibrary(dplyr)\niris_num <- select(iris,-Species)\ncor(iris_num)\n```\n\n\n\n\n\n\n\n## Frequence table\n\nHere is another important table you might use in your paper: the frequency of observations by group.\n\n```{r}\n#| warning: false\ntable(iris$Species)\n```\n\n\n\n\n\n\n## T-test\n\nLet's create now a t-test of the difference in means. For that, we will use another dataset: `mtcars`. The data was extracted from the 1974 Motor Trend US magazine, and comprises fuel consumption and 10 aspects of automobile design and performance for 32 automobiles. You can find the description of the variables [here](https://www.rdocumentation.org/packages/datasets/versions/3.6.2/topics/mtcars).\n\nYou will find that there is one variable that is binary: either the cars are automatic (1) or are manual (0).\n\nWhen you have binary variables, it is always a good idea to test if the means of the variables are different between the two groups of the binary variable.\n\nThis is a big thing and you will use a lot in your academic research. In fact, in many articles, the authors explore and compare two groups. So, be ready to create such an analysis.  \n\n\nFirst, import the new dataset. Then, repeat the first steps and inspect this dataset (I will not inspect the dataset here, but you should inspect as a way to practice it). \n\n```{r}\n#| warning: false\nmtcars <- mtcars\n```\n\n\nThen, use the binary variable to check if the other variables have similar means. In the following case, I am comparing the average of `mpg` (miles per gas) of an automatic with a manual car.\n\n\n```{r}\n#| warning: false\nt.test(mpg ~ am, data=mtcars)\n```\n\nWe see that the average in the automatic car is around 17.1 while the average of manual cars is 24.3.\n\nThese averages are statistically different, since the t-stat is high (-3.76) and p-value is low (0.001).\n\nSo, we can learn that automatic cars consume more gas than manual cars.\n\nThis type of test will be too important in your article.\n\n\n\n","srcMarkdownNoYaml":"\n\n\n# Basic Statistics\n\n\n\n## Basic stats\n\nThe following are simple examples of how to compute basic statistics using R. We will start importing the data. Let's use the free dataset `iris`, available in R.\n\n\n```{r}\n#| warning: false\niris <- iris \n```\n\n\nFirst, explore the dataset\n\n```{r}\n#| warning: false\nstr(iris) \n```\n\n\nWe have 5 variables: Sepal.Length, Sepal.Width, Petal.Length, Petal.Width e Species. The first four are numeric while the last is a string with three groups: setosa, versicolor, and virginica. The dataset contains 150 observations\n\n\nLet's take a look at the first 10 observations in the dataset.\n\n```{r}\n#| warning: false\nhead(iris, 10) \n```\n\n\nNow, let's take a look at the first 5 observations of each species.\n\n\n```{r}\n#| warning: false\nby(iris,iris[\"Species\"],head,n=5)\n```\n\n\n\n\n\n\n\n### Mean and Median\n\nNow, let's find the means and the medians of the four numeric variables. The most intuitive way is as follows.\n```{r}\n#| warning: false\nmean(iris$Sepal.Length)\nmean(iris$Sepal.Width)\nmean(iris$Petal.Length)\nmean(iris$Petal.Width)\n \nmedian(iris$Sepal.Length)\nmedian(iris$Sepal.Width)\nmedian(iris$Petal.Length)\nmedian(iris$Petal.Width)\n```\n\nBut this is the easiest way.\n```{r}\n#| warning: false\nsummary(iris)\n```\n\n\nSee that in the code above you also have the number of observations of each species. If you wanted to know how many observations you have in the dataset, you could use the following line. This might be important in the future.\n\n```{r}\n#| warning: false\nlength(iris$Species)\n```\n\n\nIf you want the same thing by group, do as follows:\n\n```{r}\n#| warning: false\nby(iris, iris$Species, summary)\n```\n\n\n\n\n\n\n\n### Minimum and maximum \n\nThe function `summary`already gives you the mininum and maximum of all variables. But sometimes you need to find only these values. You could use the following lines.\n\n\n```{r}\n#| warning: false\nmin(iris$Sepal.Length)\nmax(iris$Sepal.Length)\n```\n      \nYou could also find the range of values to find the extreme values of a variable.\n\n```{r}\n#| warning: false\nrange(iris$Sepal.Length)\n```\n\n\n\nIf you need the distance between the extreme values, you can use:\n\n```{r}\n#| warning: false\nmax(iris$Sepal.Length) - min(iris$Sepal.Length)\n```\n\n\n\n\n\n\n\n\n\n\n\n\n### Standard-deviation and Variance\n\nFinally, you can also compute the Standard-deviation and Variance of one variable as follows.\n\n\n```{r}\n#| warning: false\nsd(iris$Sepal.Length)\nvar(iris$Sepal.Length) \n```\nIf you want the standard deviaation of all variables:\n\n```{r}\n#| warning: false\nlapply(iris[, 1:4], sd)\n```\n\n\n\n\n\n\n\n\n\n\n\n## Correlation\n\nThe following lines will show you a correlation table. First, you need to create a new dataframe with only the numeric variables. This is an extremely important table to your academic paper.\n\n```{r}\n#| warning: false\n#| message: false\n#| error: false\nlibrary(dplyr)\niris_num <- select(iris,-Species)\ncor(iris_num)\n```\n\n\n\n\n\n\n\n## Frequence table\n\nHere is another important table you might use in your paper: the frequency of observations by group.\n\n```{r}\n#| warning: false\ntable(iris$Species)\n```\n\n\n\n\n\n\n## T-test\n\nLet's create now a t-test of the difference in means. For that, we will use another dataset: `mtcars`. The data was extracted from the 1974 Motor Trend US magazine, and comprises fuel consumption and 10 aspects of automobile design and performance for 32 automobiles. You can find the description of the variables [here](https://www.rdocumentation.org/packages/datasets/versions/3.6.2/topics/mtcars).\n\nYou will find that there is one variable that is binary: either the cars are automatic (1) or are manual (0).\n\nWhen you have binary variables, it is always a good idea to test if the means of the variables are different between the two groups of the binary variable.\n\nThis is a big thing and you will use a lot in your academic research. In fact, in many articles, the authors explore and compare two groups. So, be ready to create such an analysis.  \n\n\nFirst, import the new dataset. Then, repeat the first steps and inspect this dataset (I will not inspect the dataset here, but you should inspect as a way to practice it). \n\n```{r}\n#| warning: false\nmtcars <- mtcars\n```\n\n\nThen, use the binary variable to check if the other variables have similar means. In the following case, I am comparing the average of `mpg` (miles per gas) of an automatic with a manual car.\n\n\n```{r}\n#| warning: false\nt.test(mpg ~ am, data=mtcars)\n```\n\nWe see that the average in the automatic car is around 17.1 while the average of manual cars is 24.3.\n\nThese averages are statistically different, since the t-stat is high (-3.76) and p-value is low (0.001).\n\nSo, we can learn that automatic cars consume more gas than manual cars.\n\nThis type of test will be too important in your article.\n\n\n\n"},"formats":{"revealjs":{"identifier":{"display-name":"RevealJS","target-format":"revealjs","base-format":"revealjs"},"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","css":["logo.css"],"output-file":"1statistics.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.4.549","auto-stretch":true,"html":{"css":"webex.css","include-after-body":"webex.js"},"editor":"visual","title":"Empirical Methods in Finance","subtitle":"Part 1","author":"Henrique C. Martins","title-slide-attributes":{"data-background-color":"#b1cafa"},"include-after":["<script type=\"text/javascript\">\n  Reveal.on('ready', event => {\n    if (event.indexh === 0) {\n      document.querySelector(\"div.has-logo > img.slide-logo\").style.display = \"none\";\n    }\n  });\n  Reveal.addEventListener('slidechanged', (event) => {\n    if (event.indexh === 0) {\n      Reveal.configure({ slideNumber: null });\n      document.querySelector(\"div.has-logo > img.slide-logo\").style.display = \"none\";\n    }\n    if (event.indexh === 1) {\n      Reveal.configure({ slideNumber: 'c' });\n      document.querySelector(\"div.has-logo > img.slide-logo\").style.display = null;\n    }\n  });\n</script>\n"],"slideNumber":true,"theme":"simple","chalkboard":true,"previewLinks":"auto","logo":"figs/background8.png","footer":"**[**Henrique C. Martins**] [[henrique.martins@fgv.br](mailto:henrique.martins@fgv.br)][Do not use without permission]**  ","multiplex":true,"scrollable":true}}},"projectFormats":["html"]}