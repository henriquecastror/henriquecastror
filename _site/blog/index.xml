<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Henrique Castro Martins</title>
<link>https://henriquemartins.net/blog/index.html</link>
<atom:link href="https://henriquemartins.net/blog/index.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.0.38</generator>
<lastBuildDate>Fri, 12 Aug 2022 03:00:00 GMT</lastBuildDate>
<item>
  <title>Brazil Economic Policy Uncertainty</title>
  <dc:creator>Henrique C. Martins</dc:creator>
  <link>https://henriquemartins.net/blog/posts/br_epu/index.html</link>
  <description><![CDATA[ 



<p>In this post, I will show how to create a graph about the Brazilian Economic Policy Uncertainty index. For more information about this index, click <a href="https://www.policyuncertainty.com/">here</a>. Shortly, it is an index that calculates economic policy uncertainty by searching for specific words in Brazilian newspapers.</p>
<p>Let’s download the data and create a graph to see what happens.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(readxl)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">library</span>(httr)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">library</span>(zoo)</span>
<span id="cb1-4">url1<span class="ot" style="color: #003B4F;">&lt;-</span><span class="st" style="color: #20794D;">'https://www.policyuncertainty.com/media/Brazil_Policy_Uncertainty_Data.xlsx'</span></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;">GET</span>(url1, <span class="fu" style="color: #4758AB;">write_disk</span>(tf <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">tempfile</span>(<span class="at" style="color: #657422;">fileext =</span> <span class="st" style="color: #20794D;">".xlsx"</span>)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Response [https://www.policyuncertainty.com/media/Brazil_Policy_Uncertainty_Data.xlsx]
  Date: 2022-08-25 14:15
  Status: 200
  Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
  Size: 11.1 kB
&lt;ON DISK&gt;  C:\Users\hcmrt\AppData\Local\Temp\RtmpkhT1pE\filedb875a5463f.xlsx</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">data <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read_excel</span>(tf)</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;">colnames</span>(data) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"Year"</span>, <span class="st" style="color: #20794D;">"Month"</span>, <span class="st" style="color: #20794D;">"EPU"</span>)</span>
<span id="cb3-3">data<span class="ot" style="color: #003B4F;">&lt;-</span> data[<span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="fu" style="color: #4758AB;">nrow</span>(data)<span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span>,]</span>
<span id="cb3-4">data<span class="sc" style="color: #5E5E5E;">$</span>date <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.yearmon</span>(<span class="fu" style="color: #4758AB;">paste</span>(data<span class="sc" style="color: #5E5E5E;">$</span>Year, data<span class="sc" style="color: #5E5E5E;">$</span>Month), <span class="st" style="color: #20794D;">"%Y %m"</span>)</span>
<span id="cb3-5"></span>
<span id="cb3-6">data <span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">subset</span>(data, Year <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">2010</span>)</span></code></pre></div>
</div>
<p>Finally, let’s create a graph:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;">library</span>(ggplot2)</span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;">library</span>(ggthemes)</span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;">ggplot</span>(<span class="at" style="color: #657422;">data=</span> data, <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x=</span>date, <span class="at" style="color: #657422;">y =</span>EPU ) ) <span class="sc" style="color: #5E5E5E;">+</span> <span class="fu" style="color: #4758AB;">geom_line</span>() <span class="sc" style="color: #5E5E5E;">+</span> <span class="fu" style="color: #4758AB;">theme_solarized</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"Brazil Economic Policy Uncertainty (EPU) (since 2010)"</span>,</span>
<span id="cb4-5">       <span class="at" style="color: #657422;">caption =</span> <span class="st" style="color: #20794D;">"Source: https://www.policyuncertainty.com/"</span>) </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://henriquemartins.net/blog/posts/br_epu/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Well, it seems that we do not have too much uncertainty at the moment. At least not the type of uncertainty that this index measures. Still, this is a nice index to learn more about.</p>
<p>Thanks for stopping by!</p>



 ]]></description>
  <category>Open Data</category>
  <category>Open Code</category>
  <category>Brazil</category>
  <category>EPU</category>
  <guid>https://henriquemartins.net/blog/posts/br_epu/index.html</guid>
  <pubDate>Fri, 12 Aug 2022 03:00:00 GMT</pubDate>
  <media:content url="https://henriquemartins.net/blog/posts/br_epu/featured.png" medium="image" type="image/png" height="41" width="144"/>
</item>
<item>
  <title>Index of Democracy</title>
  <dc:creator>Henrique C. Martins</dc:creator>
  <link>https://henriquemartins.net/blog/posts/vdem/index.html</link>
  <description><![CDATA[ 



<p>Let’s see how to create a graph of the levels of Democracy in Brazil. The data come from the <a href="https://v-dem.net/">V-Dem project</a>, which is amazing.</p>
<p>First, download the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(ggplot2)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">library</span>(ggthemes)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">library</span>(downloader)</span>
<span id="cb1-4">url <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="st" style="color: #20794D;">"https://v-dem.net/media/datasets/Country_Year_V-Dem_Core_R_v12.zip"</span></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;">download</span>(url, <span class="at" style="color: #657422;">dest=</span><span class="st" style="color: #20794D;">"dataset.zip"</span>, <span class="at" style="color: #657422;">mode=</span><span class="st" style="color: #20794D;">"wb"</span>) </span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;">unzip</span> (<span class="st" style="color: #20794D;">"dataset.zip"</span>, <span class="at" style="color: #657422;">exdir =</span> <span class="st" style="color: #20794D;">"./"</span>)</span>
<span id="cb1-7">data <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">readRDS</span>(<span class="st" style="color: #20794D;">"Country_Year_V-Dem_Core_R_v12/V-Dem-CY-Core-v12.rds"</span>)</span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;">file.remove</span>(<span class="st" style="color: #20794D;">"dataset.zip"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>For convenience, let’s focus only on the years after 2000 and in some selected countries.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;">names</span>(data)[<span class="fu" style="color: #4758AB;">names</span>(data) <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'country_text_id'</span>] <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="st" style="color: #20794D;">'Country'</span></span>
<span id="cb3-2">data <span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">subset</span>(data, year <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">2000</span>)</span>
<span id="cb3-3">countries <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.data.frame</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"Brazil"</span>, <span class="st" style="color: #20794D;">"France"</span>, <span class="st" style="color: #20794D;">"Germany"</span>, <span class="st" style="color: #20794D;">"United States of America"</span>, <span class="st" style="color: #20794D;">"United Kingdom"</span>, <span class="st" style="color: #20794D;">"Italy"</span>, <span class="st" style="color: #20794D;">"Japan"</span>, <span class="st" style="color: #20794D;">"China"</span>, <span class="st" style="color: #20794D;">"India"</span>)) </span>
<span id="cb3-4"><span class="fu" style="color: #4758AB;">colnames</span>(countries) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="st" style="color: #20794D;">"country_name"</span>                  </span>
<span id="cb3-5">data <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">merge</span>(data, countries , <span class="at" style="color: #657422;">by=</span><span class="st" style="color: #20794D;">"country_name"</span>)</span></code></pre></div>
</div>
<p>Now let’s have fun visualizing data. More about the <em>clarifications</em> in : <a href="https://www.v-dem.net/static/website/img/refs/codebookv12.pdf">https://www.v-dem.net/static/website/img/refs/codebookv12.pdf</a></p>
<hr>
<section id="electoral-democracy-index-d-v2x_polyarchy" class="level4">
<h4 class="anchored" data-anchor-id="electoral-democracy-index-d-v2x_polyarchy">Electoral democracy index (D) (v2x_polyarchy)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;">ggplot</span>(data, <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> year, <span class="at" style="color: #657422;">y=</span>v2x_polyarchy) ) <span class="sc" style="color: #5E5E5E;">+</span>   <span class="fu" style="color: #4758AB;">geom_line</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">colour =</span> Country)) <span class="sc" style="color: #5E5E5E;">+</span>  </span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">y=</span><span class="st" style="color: #20794D;">'Electoral democracy index'</span>, </span>
<span id="cb4-3">       <span class="at" style="color: #657422;">x=</span><span class="st" style="color: #20794D;">'Year'</span>, </span>
<span id="cb4-4">       <span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"Electoral democracy index selected countries (since 2000)"</span>,</span>
<span id="cb4-5">       <span class="at" style="color: #657422;">caption =</span> <span class="st" style="color: #20794D;">"Source: https://www.v-dem.net/"</span>) <span class="sc" style="color: #5E5E5E;">+</span> <span class="fu" style="color: #4758AB;">theme_solarized</span>() <span class="sc" style="color: #5E5E5E;">+</span> </span>
<span id="cb4-6">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">legend.position =</span> <span class="st" style="color: #20794D;">"none"</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb4-7">  ggrepel<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">geom_text_repel</span>(<span class="at" style="color: #657422;">data =</span> data[<span class="fu" style="color: #4758AB;">which</span>(data<span class="sc" style="color: #5E5E5E;">$</span>year <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">2021</span>),], <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">label =</span> country_name) , <span class="at" style="color: #657422;">size =</span> <span class="fl" style="color: #AD0000;">2.5</span> ,  <span class="at" style="color: #657422;">max.overlaps =</span> <span class="cn" style="color: #8f5902;">Inf</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://henriquemartins.net/blog/posts/vdem/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><em>Clarification: The electoral principle of democracy seeks to embody the core value of making rulers responsive to citizens, achieved through electoral competition for the electorate’s approval under circumstances when suffrage is extensive; political and civil society organizations can operate freely; elections are clean and not marred by fraud or systematic irregularities; and elections affect the composition of the chief executive of the country. In between elections, there is freedom of expression and an independent media capable of presenting alternative views on matters of political relevance. In the V-Dem conceptual scheme, electoral democracy is understood as an essential element of any other conception of representative democracy —liberal, participatory, deliberative, egalitarian, or some other.</em></p>
<hr>
</section>
<section id="liberal-democracy-index-d-v2x_libdem" class="level4">
<h4 class="anchored" data-anchor-id="liberal-democracy-index-d-v2x_libdem">Liberal democracy index (D) (v2x_libdem)</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://henriquemartins.net/blog/posts/vdem/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><em>Clarification: The liberal principle of democracy emphasizes the importance of protecting individual and minority rights against the tyranny of the state and the tyranny of the majority. The liberal model takes a “negative” view of political power insofar as it judges the quality of democracy by the limits placed on government. This is achieved by constitutionally protected civil liberties, strong rule of law, an independent judiciary, and effective checks and balances that, together, limit the exercise of executive power. To make this a measure of liberal democracy, the index also takes the level of electoral democracy into account.</em></p>
<hr>
</section>
<section id="participatory-democracy-index-d-v2x_partipdem" class="level4">
<h4 class="anchored" data-anchor-id="participatory-democracy-index-d-v2x_partipdem">Participatory democracy index (D) (v2x_partipdem)</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://henriquemartins.net/blog/posts/vdem/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><em>Clarification: The participatory principle of democracy emphasizes active participation by citizens in all political processes, electoral and non-electoral. It is motivated by uneasiness about a bedrock practice of electoral democracy: delegating authority to representatives. Thus, direct rule by citizens is preferred, wherever practicable. This model of democracy thus takes suffrage for granted, emphasizing engagement in civil society organizations, direct democracy, and subnational elected bodies. To make it a measure of participatory democracy, the index also takes the level of electoral democracy into account.</em></p>
<hr>
</section>
<section id="deliberative-democracy-index-d-v2x_delibdem" class="level4">
<h4 class="anchored" data-anchor-id="deliberative-democracy-index-d-v2x_delibdem">Deliberative democracy index (D) (v2x_delibdem)</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://henriquemartins.net/blog/posts/vdem/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><em>Clarification: The deliberative principle of democracy focuses on the process by which decisions are reached in a polity. A deliberative process is one in which public reasoning focused on the common good motivates political decisions—as contrasted with emotional appeals, solidary attachments, parochial interests, or coercion. According to this principle, democracy requires more than an aggregation of existing preferences. There should also be respectful dialogue at all levels—from preference formation to final decision—among informed and competent participants who are open to persuasion. To make it a measure of not only the deliberative principle but also of democracy, the index also takes the level of electoral democracy into account.</em></p>
<hr>
</section>
<section id="egalitarian-democracy-index-d-v2x_egaldem" class="level4">
<h4 class="anchored" data-anchor-id="egalitarian-democracy-index-d-v2x_egaldem">Egalitarian democracy index (D) (v2x_egaldem)</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://henriquemartins.net/blog/posts/vdem/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><em>Clarification: The egalitarian principle of democracy holds that material and immaterial inequalities inhibit the exercise of formal rights and liberties, and diminish the ability of citizens from all social groups to participate. Egalitarian democracy is achieved when 1 rights and freedoms of individuals are protected equally across all social groups; and 2 resources are distributed equally across all social groups; 3 groups and individuals enjoy equal access to power. To make it a measure of egalitarian democracy, the index also takes the level of electoral democracy into account.</em></p>
<p>Thanks for passing by!</p>


</section>

 ]]></description>
  <category>Open Data</category>
  <category>Open Code</category>
  <category>Brazil</category>
  <category>Democracy</category>
  <guid>https://henriquemartins.net/blog/posts/vdem/index.html</guid>
  <pubDate>Wed, 10 Aug 2022 03:00:00 GMT</pubDate>
  <media:content url="https://henriquemartins.net/blog/posts/vdem/featured.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Ibovespa in USD</title>
  <dc:creator>Henrique C. Martins</dc:creator>
  <link>https://henriquemartins.net/blog/posts/ibov_USD/index.html</link>
  <description><![CDATA[ 



<p>Let’s see how to create a graph of Ibovespa in dollar using data from ipeadata. Start by installing and loading the following package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(ipeadatar)</span></code></pre></div>
</div>
<p>Then, download the data. You will need the variables’ codes. You can use the row below to see the codes of all variables available.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">all_series <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">available_series</span>()</span></code></pre></div>
</div>
<p>Then, after learning the codes for the variables we want (i.e., the codes ‘GM366_IBVSP366’ and ‘GM366_ERC366’ below), you download the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">ibov  <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ipeadata</span>(<span class="at" style="color: #657422;">code =</span> <span class="st" style="color: #20794D;">"GM366_IBVSP366"</span>)</span>
<span id="cb3-2">dolar <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ipeadata</span>(<span class="at" style="color: #657422;">code =</span> <span class="st" style="color: #20794D;">"GM366_ERC366"</span>)</span></code></pre></div>
</div>
<p>See that the period available is different for the two variables.</p>
<p>For convenience, let’s delete some columns in Ibov and integrate the dollar to Ibov.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">ibov <span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">subset</span>(ibov, <span class="at" style="color: #657422;">select=</span><span class="sc" style="color: #5E5E5E;">-</span><span class="fu" style="color: #4758AB;">c</span>(tcode,uname))</span>
<span id="cb4-2">dolar<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">subset</span>(dolar, <span class="at" style="color: #657422;">select=</span><span class="sc" style="color: #5E5E5E;">-</span><span class="fu" style="color: #4758AB;">c</span>(tcode,uname))</span></code></pre></div>
</div>
<p>The next step is to join the data by date to avoid using different periods in each dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">data <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">merge</span>(ibov,dolar, <span class="at" style="color: #657422;">by =</span> <span class="st" style="color: #20794D;">"date"</span>)</span></code></pre></div>
</div>
<p>Then, let’s calculate the ratio between Ibovespa and dollar each day.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">data<span class="sc" style="color: #5E5E5E;">$</span>ibov_dolar <span class="ot" style="color: #003B4F;">&lt;-</span> (data<span class="sc" style="color: #5E5E5E;">$</span>value.x<span class="sc" style="color: #5E5E5E;">/</span>data<span class="sc" style="color: #5E5E5E;">$</span>value.y)</span></code></pre></div>
</div>
<p>Lastly, you are good to go, and you can create a graph as follows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;">library</span>(ggplot2)</span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;">library</span>(ggthemes)</span>
<span id="cb7-3"><span class="fu" style="color: #4758AB;">ggplot</span>(data) <span class="sc" style="color: #5E5E5E;">+</span>   <span class="fu" style="color: #4758AB;">geom_line</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> date, <span class="at" style="color: #657422;">y=</span>ibov_dolar, <span class="at" style="color: #657422;">colour=</span><span class="st" style="color: #20794D;">"Ibov USD"</span>) ) <span class="sc" style="color: #5E5E5E;">+</span>   <span class="fu" style="color: #4758AB;">geom_line</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> date, <span class="at" style="color: #657422;">y=</span>value.x, <span class="at" style="color: #657422;">colour=</span><span class="st" style="color: #20794D;">"Ibov"</span>) ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">y=</span><span class="st" style="color: #20794D;">'Ibov in USD'</span>, </span>
<span id="cb7-5">       <span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"Graph of Ibov in USD (Period: since 1994)"</span>,</span>
<span id="cb7-6">       <span class="at" style="color: #657422;">caption =</span> <span class="st" style="color: #20794D;">"Source: Ipeadata (R package: ipeadatar)"</span>) <span class="sc" style="color: #5E5E5E;">+</span> <span class="fu" style="color: #4758AB;">theme_solarized</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://henriquemartins.net/blog/posts/ibov_USD/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This graph is simply a reminder of the value in dollar of our Stock market index. It shows that, at the moment, Ibov in USD is not as high as one may think.</p>
<p>Below is a graph adding Ibov in Euro.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">euro <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ipeadata</span>(<span class="at" style="color: #657422;">code =</span> <span class="st" style="color: #20794D;">"GM366_EUROC366"</span>)</span>
<span id="cb8-2">euro <span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">subset</span>(euro, <span class="at" style="color: #657422;">select=</span><span class="sc" style="color: #5E5E5E;">-</span><span class="fu" style="color: #4758AB;">c</span>(tcode,uname))</span>
<span id="cb8-3">data2 <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">merge</span>(ibov,euro, <span class="at" style="color: #657422;">by =</span> <span class="st" style="color: #20794D;">"date"</span>)</span>
<span id="cb8-4">data2<span class="sc" style="color: #5E5E5E;">$</span>ibov_euro <span class="ot" style="color: #003B4F;">&lt;-</span> (data2<span class="sc" style="color: #5E5E5E;">$</span>value.x<span class="sc" style="color: #5E5E5E;">/</span>data2<span class="sc" style="color: #5E5E5E;">$</span>value.y)</span>
<span id="cb8-5"><span class="fu" style="color: #4758AB;">ggplot</span>(data) <span class="sc" style="color: #5E5E5E;">+</span>   <span class="fu" style="color: #4758AB;">geom_line</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> date, <span class="at" style="color: #657422;">y=</span>ibov_dolar, <span class="at" style="color: #657422;">colour=</span><span class="st" style="color: #20794D;">"Ibov USD"</span>) ) <span class="sc" style="color: #5E5E5E;">+</span>   <span class="fu" style="color: #4758AB;">geom_line</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> date, <span class="at" style="color: #657422;">y=</span>value.x, <span class="at" style="color: #657422;">colour=</span><span class="st" style="color: #20794D;">"Ibov"</span>) ) <span class="sc" style="color: #5E5E5E;">+</span> <span class="fu" style="color: #4758AB;">geom_line</span>(<span class="at" style="color: #657422;">data=</span> data2 , <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> date, <span class="at" style="color: #657422;">y=</span>ibov_euro, <span class="at" style="color: #657422;">colour=</span><span class="st" style="color: #20794D;">"Ibov Euro"</span>) ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb8-6">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">y=</span><span class="st" style="color: #20794D;">'Ibov in USD &amp; Euro'</span>, </span>
<span id="cb8-7">       <span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"Graph of Ibov in USD &amp; Euro (Period: since 1994)"</span>,</span>
<span id="cb8-8">       <span class="at" style="color: #657422;">caption =</span> <span class="st" style="color: #20794D;">"Source: Ipeadata (R package: ipeadatar)"</span>) <span class="sc" style="color: #5E5E5E;">+</span> <span class="fu" style="color: #4758AB;">theme_solarized</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://henriquemartins.net/blog/posts/ibov_USD/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Thanks for passing by!</p>



 ]]></description>
  <category>Finance</category>
  <category>Open Data</category>
  <category>Open Code</category>
  <guid>https://henriquemartins.net/blog/posts/ibov_USD/index.html</guid>
  <pubDate>Mon, 08 Aug 2022 03:00:00 GMT</pubDate>
  <media:content url="https://henriquemartins.net/blog/posts/ibov_USD/featured.jpg" medium="image" type="image/jpeg"/>
</item>
</channel>
</rss>
