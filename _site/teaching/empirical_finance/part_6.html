<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Henrique C. Martins">

<title>Henrique Castro Martins - Econometria Aplicada a Finanças</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-771J5563G0"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-771J5563G0', { 'anonymize_ip': true});
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta name="twitter:title" content="Henrique Castro Martins - Econometria Aplicada a Finanças">
<meta name="twitter:description" content="Part 6">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Henrique Castro Martins</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="../../about.qmd"> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching/"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../seminars/"> 
<span class="menu-text">Seminars</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../abs/"> 
<span class="menu-text">ABS List</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv/cv_Henrique_Castro_Martins.pdf"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/henriquecastror"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/henriquecastror/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="part_6.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Econometria Aplicada a Finanças</h1>
<p class="subtitle lead">Part 6</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Henrique C. Martins </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="multivariable-models" class="level1 smaller" data-background="#bdc7c9">
<h1 class="smaller" data-background="#bdc7c9">Multivariable models</h1>
<section id="multivariable-models-1" class="level2 smaller" data-background="#bdc7c9">
<h2 class="smaller anchored" data-background="#bdc7c9" data-anchor-id="multivariable-models-1">Multivariable models</h2>
<p>It is quite uncommon that you will have a model with only one independent variable.</p>
<p>The most frequent type of model in research is multivariate.</p>
<p><span class="math display">\[y_i = \alpha + \beta_1 x_1 + \beta_2 x_2 + \beta_3 x_3 + . . . + \beta_k x_k+ \mu\]</span></p>
<p>. . .</p>
<p>The estimation of <span class="math inline">\(\alpha\)</span> refers to the predicted value of Y when all X’s are zero (it might not make much sense if the variables cannot assume the value of zero).</p>
</section>
<section id="multivariable-models-2" class="level2 smaller" data-background="#bdc7c9">
<h2 class="smaller anchored" data-background="#bdc7c9" data-anchor-id="multivariable-models-2">Multivariable models</h2>
<p>Usually, we think of <span class="math inline">\(\beta_k\)</span> as having partial effects interpretations.</p>
<ul>
<li><p>Meaning that we think <span class="math inline">\(\beta\)</span> as the change in Y (<span class="math inline">\(\Delta y\)</span>) given a change in x (<span class="math inline">\(\Delta x_1\)</span>), ceteribus paribus</p>
<ul>
<li>i.e., holding all other changes as zero (<span class="math inline">\(\Delta x_2 = \Delta x_3 = . . . = \Delta x_k = 0\)</span>)</li>
</ul></li>
<li><p>Thus, the “effect” or the “association” is <span class="math inline">\(\beta_1\)</span>, holding all else constant.</p></li>
</ul>
<p>. . .</p>
<p>We can predict the value of <span class="math inline">\(y\)</span> just like before.</p>
<p><span class="math display">\[\hat{y_i} = \hat{\alpha} + \hat{\beta_1} x_1 + \hat{\beta_2} x_2 + \hat{\beta_3} x_3 + . . . + \hat{\beta_k} x_k \]</span></p>
</section>
<section id="multivariable-models-3" class="level2 smaller" data-background="#bdc7c9">
<h2 class="smaller anchored" data-background="#bdc7c9" data-anchor-id="multivariable-models-3">Multivariable models</h2>
<p>Like before, we will need some assumptions.</p>
<p><span class="math display">\[E(\mu | x_1,x_2, ... , x_k) = 0\]</span></p>
<p>Implying no correlation between <span class="math inline">\(\mu\)</span> and the X’s.</p>
</section>
<section id="multivariable-models-4" class="level2 smaller" data-background="#bdc7c9">
<h2 class="smaller anchored" data-background="#bdc7c9" data-anchor-id="multivariable-models-4">Multivariable models</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(sandwich)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(foreign) </span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb1-4"><a href="#cb1-4"></a>data <span class="ot">&lt;-</span> <span class="fu">read.dta</span>(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(salary <span class="sc">~</span> roe , <span class="at">data =</span> data)</span>
<span id="cb1-6"><a href="#cb1-6"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(salary <span class="sc">~</span> roe <span class="sc">+</span> lsales, <span class="at">data =</span> data)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">stargazer</span>(model1, model2 ,<span class="at">title =</span> <span class="st">"Regression Results"</span>, <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Regression Results
===============================================================
                                Dependent variable:            
                    -------------------------------------------
                                      salary                   
                            (1)                   (2)          
---------------------------------------------------------------
roe                       18.501*               22.674**       
                          (11.123)              (10.982)       
                                                               
lsales                                         286.265***      
                                                (92.332)       
                                                               
Constant                 963.191***           -1,482.294*      
                         (213.240)             (815.971)       
                                                               
---------------------------------------------------------------
Observations                209                   209          
R2                         0.013                 0.057         
Adjusted R2                0.008                 0.048         
Residual Std. Error 1,366.555 (df = 207)  1,338.984 (df = 206) 
F Statistic         2.767* (df = 1; 207) 6.247*** (df = 2; 206)
===============================================================
Note:                               *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="im">import</span> statsmodels.formula.api <span class="im">as</span> smf</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="im">from</span> statsmodels.iolib.summary2 <span class="im">import</span> summary_col</span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a>data <span class="op">=</span> pd.read_stata(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb3-7"><a href="#cb3-7"></a>model1 <span class="op">=</span> sm.OLS.from_formula(<span class="st">"salary ~ roe"</span>, data<span class="op">=</span>data).fit()</span>
<span id="cb3-8"><a href="#cb3-8"></a>model2 <span class="op">=</span> sm.OLS.from_formula(<span class="st">"salary ~ roe + lsales"</span>, data<span class="op">=</span>data).fit()</span>
<span id="cb3-9"><a href="#cb3-9"></a>summary <span class="op">=</span> summary_col([model1, model2], stars<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="bu">print</span>(summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
======================================
                 salary I   salary II 
--------------------------------------
Intercept      963.1913*** -1482.2944*
               (213.2403)  (815.9709) 
R-squared      0.0132      0.0572     
R-squared Adj. 0.0084      0.0480     
lsales                     286.2647***
                           (92.3318)  
roe            18.5012*    22.6738**  
               (11.1233)   (10.9816)  
======================================
Standard errors in parentheses.
* p&lt;.1, ** p&lt;.05, ***p&lt;.01</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">use</span> <span class="st">"files/CEOSAL1.DTA"</span> , <span class="kw">replace</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>eststo: <span class="kw">qui</span> <span class="kw">reg</span> salary roe </span>
<span id="cb5-3"><a href="#cb5-3"></a>eststo: <span class="kw">qui</span> <span class="kw">reg</span> salary roe lsales</span>
<span id="cb5-4"><a href="#cb5-4"></a>esttab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(est1 stored)

(est2 stored)


--------------------------------------------
                      (1)             (2)   
                   salary          salary   
--------------------------------------------
roe                 18.50           22.67*  
                   (1.66)          (2.06)   

lsales                              286.3** 
                                   (3.10)   

_cons               963.2***      -1482.3   
                   (4.52)         (-1.82)   
--------------------------------------------
N                     209             209   
--------------------------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="multivariable-models-5" class="level2 smaller" data-background="#bdc7c9">
<h2 class="smaller anchored" data-background="#bdc7c9" data-anchor-id="multivariable-models-5">Multivariable models</h2>
<p><strong>Goodness-of-fit</strong></p>
<p>As defined before</p>
<p><span class="math display">\[R^2 = \frac{SSE}{SST} = 1-\frac{SSR}{SST}\]</span></p>
<p>One consequence of measuring <span class="math inline">\(R^2\)</span> this way is that it never goes down when you include more variables.</p>
<ul>
<li>It is intuitive, if you are including more variables, you are taking stuff from the residual, increasing <span class="math inline">\(R^2\)</span>.</li>
</ul>
<p>. . .</p>
<p>If you have multivariate models, that could be a problem, especially if you want to compare the <span class="math inline">\(R^2\)</span> of different models.</p>
<p>We often use:</p>
<p><span class="math display">\[Adj\;R^2 = 1-(1-R^2)\frac{(n-1)}{n-k-1}\]</span></p>
<p>Where n is the number of observations and k is the number of independent variables, excluding the constant.</p>
<p>Adj-R^2 can go up, but it can actually go down as well.</p>
</section>
</section>
<section id="multicollinearity" class="level1 smaller" data-background="#7e96d6">
<h1 class="smaller" data-background="#7e96d6">Multicollinearity</h1>
<section id="multicollinearity-1" class="level2 smaller" data-background="#7e96d6">
<h2 class="smaller anchored" data-background="#7e96d6" data-anchor-id="multicollinearity-1">Multicollinearity</h2>
<p>When control variables show high correlation, the model may present <strong>Multicollinearity</strong>.</p>
<ul>
<li><p>Highly collinear variables can inflate SEs</p></li>
<li><p>But, multicollinearity does not create a bias.</p></li>
</ul>
<p>. . .</p>
<p>Consider a model such as:</p>
<p><span class="math display">\[y_i= \alpha + \beta_1x1+\beta_2x2+\beta_3x3+ \mu\]</span></p>
<p><span class="math inline">\(x_2\)</span> and <span class="math inline">\(x3\)</span> might be highly collinear.</p>
<ul>
<li><p>This makes <span class="math inline">\(var(\beta_2)\)</span> and <span class="math inline">\(var(\beta_3)\)</span> increase.</p></li>
<li><p>But that changes nothing on <span class="math inline">\(var(\beta_1)\)</span></p></li>
</ul>
</section>
<section id="multicollinearity-2" class="level2 smaller" data-background="#7e96d6">
<h2 class="smaller anchored" data-background="#7e96d6" data-anchor-id="multicollinearity-2">Multicollinearity</h2>
<p>At the end of the day, <strong>multicollinearity is a non-problem</strong>. It is very rare that I need to test it in my own research!</p>
<ul>
<li><p>The tip is to not include controls that are too collinear with the variable of interest (i.e., the treatment).</p></li>
<li><p>Of course, if you need them for stablish causality, you need to include them, ignoring multicollinearity</p></li>
</ul>
</section>
</section>
<section id="scaling" class="level1 smaller" data-background="#f0e299">
<h1 class="smaller" data-background="#f0e299">Scaling</h1>
<section id="scaling-1" class="level2 smaller" data-background="#f0e299">
<h2 class="smaller anchored" data-background="#f0e299" data-anchor-id="scaling-1">Scaling</h2>
<p><strong>Multiplying or dividing by a constant does not change your inference.</strong></p>
<p>Let’s say you multiply the Y by 1.000. What will change?</p>
<p>. . .</p>
<p>In the example from before:</p>
<ul>
<li><span class="math inline">\(\alpha=963.19\)</span></li>
<li><span class="math inline">\(\beta=18.50\)</span></li>
</ul>
<p>If you multiply the Y (earnings) by 1.000, the new coefficients will be:</p>
<ul>
<li><span class="math inline">\(\alpha=963,190\)</span></li>
<li><span class="math inline">\(\beta=18,500\)</span></li>
</ul>
</section>
<section id="scaling-2" class="level2 smaller" data-background="#f0e299">
<h2 class="smaller anchored" data-background="#f0e299" data-anchor-id="scaling-2">Scaling</h2>
<p>Scaling y by a constant c just causes all the estimates to be scaled by the same constant</p>
<p><span class="math display">\[y=\alpha + \beta x + \mu\]</span></p>
<p><span class="math display">\[c.y = c.\alpha + c.\beta x + c.\mu\]</span></p>
<ul>
<li>new alpha: <span class="math inline">\(c.\alpha\)</span></li>
<li>new beta: <span class="math inline">\(c.\beta\)</span></li>
</ul>
</section>
<section id="scaling-3" class="level2 smaller" data-background="#f0e299">
<h2 class="smaller anchored" data-background="#f0e299" data-anchor-id="scaling-3">Scaling</h2>
<p><strong>The scaling has no effect on the relationship between X and Y.</strong></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">library</span>(sandwich)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">library</span>(foreign) </span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="fu">library</span>(lmtest)</span>
<span id="cb7-4"><a href="#cb7-4"></a></span>
<span id="cb7-5"><a href="#cb7-5"></a>data <span class="ot">&lt;-</span> <span class="fu">read.dta</span>(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb7-6"><a href="#cb7-6"></a>data<span class="sc">$</span>salary <span class="ot">=</span> data<span class="sc">$</span>salary <span class="sc">*</span> <span class="dv">1000</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(salary <span class="sc">~</span> roe, <span class="at">data =</span> data)</span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = salary ~ roe, data = data)

Residuals:
     Min       1Q   Median       3Q      Max 
-1160168  -526023  -253964   138797 13499886 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   963191     213240   4.517 1.05e-05 ***
roe            18501      11123   1.663   0.0978 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1367000 on 207 degrees of freedom
Multiple R-squared:  0.01319,   Adjusted R-squared:  0.008421 
F-statistic: 2.767 on 1 and 207 DF,  p-value: 0.09777</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb9-4"><a href="#cb9-4"></a></span>
<span id="cb9-5"><a href="#cb9-5"></a>mydata <span class="op">=</span> pd.read_stata(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb9-6"><a href="#cb9-6"></a>array1 <span class="op">=</span> np.array([<span class="dv">1000</span>])</span>
<span id="cb9-7"><a href="#cb9-7"></a>mydata[<span class="st">'salary'</span>] <span class="op">=</span> np.multiply(mydata[<span class="st">'salary'</span>], array1)</span>
<span id="cb9-8"><a href="#cb9-8"></a>X <span class="op">=</span> sm.add_constant(mydata[<span class="st">'roe'</span>])  <span class="co"># Adding a constant (intercept) term</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>y <span class="op">=</span> mydata[<span class="st">'salary'</span>] </span>
<span id="cb9-10"><a href="#cb9-10"></a>model <span class="op">=</span> sm.OLS(y, X).fit()</span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="bu">print</span>(model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                 salary   R-squared:                       0.013
Model:                            OLS   Adj. R-squared:                  0.008
Method:                 Least Squares   F-statistic:                     2.767
Date:                qua, 31 jan 2024   Prob (F-statistic):             0.0978
Time:                        10:22:30   Log-Likelihood:                -3248.3
No. Observations:                 209   AIC:                             6501.
Df Residuals:                     207   BIC:                             6507.
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const       9.632e+05   2.13e+05      4.517      0.000    5.43e+05    1.38e+06
roe          1.85e+04   1.11e+04      1.663      0.098   -3428.196    4.04e+04
==============================================================================
Omnibus:                      311.096   Durbin-Watson:                   2.105
Prob(Omnibus):                  0.000   Jarque-Bera (JB):            31120.902
Skew:                           6.915   Prob(JB):                         0.00
Kurtosis:                      61.158   Cond. No.                         43.3
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">use</span> <span class="st">"files/CEOSAL1.DTA"</span> , <span class="kw">replace</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="kw">replace</span> salary = salary * 1000</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="kw">qui</span> <span class="kw">reg</span> salary roe </span>
<span id="cb11-4"><a href="#cb11-4"></a>esttab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>variable salary was int now long
(209 real changes made)



----------------------------
                      (1)   
                   salary   
----------------------------
roe               18501.2   
                   (1.66)   

_cons            963191.3***
                   (4.52)   
----------------------------
N                     209   
----------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="scaling-4" class="level2 smaller" data-background="#f0e299">
<h2 class="smaller anchored" data-background="#f0e299" data-anchor-id="scaling-4">Scaling</h2>
<p>What if, instead, we multiply the x (ROE) by a constant 1000.</p>
<p><span class="math display">\[y=\alpha + \beta x + \mu\]</span></p>
<p><span class="math display">\[y = \alpha + \frac{\beta}{1.000} (1.000 x)+ \mu\]</span></p>
</section>
<section id="scaling-5" class="level2 smaller" data-background="#f0e299">
<h2 class="smaller anchored" data-background="#f0e299" data-anchor-id="scaling-5">Scaling</h2>
<p><strong>Only <span class="math inline">\(\beta\)</span> changes.</strong></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">library</span>(sandwich)</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="fu">library</span>(foreign) </span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="fu">library</span>(lmtest)</span>
<span id="cb13-4"><a href="#cb13-4"></a></span>
<span id="cb13-5"><a href="#cb13-5"></a>data <span class="ot">&lt;-</span> <span class="fu">read.dta</span>(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb13-6"><a href="#cb13-6"></a>data<span class="sc">$</span>roe <span class="ot">=</span> data<span class="sc">$</span>roe <span class="sc">*</span> <span class="dv">1000</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(salary <span class="sc">~</span> roe, <span class="at">data =</span> data)</span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = salary ~ roe, data = data)

Residuals:
    Min      1Q  Median      3Q     Max 
-1160.2  -526.0  -254.0   138.8 13499.9 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 963.19134  213.24026   4.517 1.05e-05 ***
roe           0.01850    0.01112   1.663   0.0978 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1367 on 207 degrees of freedom
Multiple R-squared:  0.01319,   Adjusted R-squared:  0.008421 
F-statistic: 2.767 on 1 and 207 DF,  p-value: 0.09777</code></pre>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb15-4"><a href="#cb15-4"></a></span>
<span id="cb15-5"><a href="#cb15-5"></a>mydata <span class="op">=</span> pd.read_stata(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb15-6"><a href="#cb15-6"></a>array1 <span class="op">=</span> np.array([<span class="dv">1000</span>])</span>
<span id="cb15-7"><a href="#cb15-7"></a>mydata[<span class="st">'roe'</span>] <span class="op">=</span> np.multiply(mydata[<span class="st">'roe'</span>], array1)</span>
<span id="cb15-8"><a href="#cb15-8"></a>X <span class="op">=</span> sm.add_constant(mydata[<span class="st">'roe'</span>])  <span class="co"># Adding a constant (intercept) term</span></span>
<span id="cb15-9"><a href="#cb15-9"></a>y <span class="op">=</span> mydata[<span class="st">'salary'</span>] </span>
<span id="cb15-10"><a href="#cb15-10"></a>model <span class="op">=</span> sm.OLS(y, X).fit()</span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="bu">print</span>(model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                 salary   R-squared:                       0.013
Model:                            OLS   Adj. R-squared:                  0.008
Method:                 Least Squares   F-statistic:                     2.767
Date:                qua, 31 jan 2024   Prob (F-statistic):             0.0978
Time:                        10:22:32   Log-Likelihood:                -1804.5
No. Observations:                 209   AIC:                             3613.
Df Residuals:                     207   BIC:                             3620.
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const        963.1913    213.240      4.517      0.000     542.790    1383.592
roe            0.0185      0.011      1.663      0.098      -0.003       0.040
==============================================================================
Omnibus:                      311.096   Durbin-Watson:                   2.105
Prob(Omnibus):                  0.000   Jarque-Bera (JB):            31120.902
Skew:                           6.915   Prob(JB):                         0.00
Kurtosis:                      61.158   Cond. No.                     4.32e+04
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 4.32e+04. This might indicate that there are
strong multicollinearity or other numerical problems.</code></pre>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">use</span> <span class="st">"files/CEOSAL1.DTA"</span> , <span class="kw">replace</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="kw">replace</span> roe = roe * 1000</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="kw">qui</span> <span class="kw">reg</span> salary roe </span>
<span id="cb17-4"><a href="#cb17-4"></a>esttab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(209 real changes made)



----------------------------
                      (1)   
                   salary   
----------------------------
roe                0.0185   
                   (1.66)   

_cons               963.2***
                   (4.52)   
----------------------------
N                     209   
----------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="scaling-6" class="level2 smaller" data-background="#f0e299">
<h2 class="smaller anchored" data-background="#f0e299" data-anchor-id="scaling-6">Scaling</h2>
<p>Scaling is useful when we estimate very large or very small coefficients.</p>
<ul>
<li>0.000000185</li>
<li>185000000.00</li>
</ul>
<p>Such coefficients are hard to read.</p>
<p><strong>Scaling affect the <span class="math inline">\(\beta\)</span> and S.E. but do not affect the t-stat.</strong></p>
</section>
<section id="scaling-7" class="level2 smaller" data-background="#f0e299">
<h2 class="smaller anchored" data-background="#f0e299" data-anchor-id="scaling-7">Scaling</h2>
<p>To write a better story in your article in terms of magnitudes, it could be helpful to scale the variables by their sample standard deviation.</p>
<ul>
<li><p>Let’s say that <span class="math inline">\(\sigma_x\)</span> and <span class="math inline">\(\sigma_y\)</span> are the s.d. of x and y, respectively.</p></li>
<li><p>Let’s say that you divide X by <span class="math inline">\(\sigma_x\)</span> (<span class="math inline">\(k=\frac{1}{\sigma_x}\)</span>) and y by <span class="math inline">\(\sigma_y\)</span> (<span class="math inline">\(c=\frac{1}{\sigma_y}\)</span>).</p></li>
<li><p>Now, <strong>units of x and y are standard deviations.</strong></p></li>
</ul>
</section>
<section id="scaling-8" class="level2 smaller" data-background="#f0e299">
<h2 class="smaller anchored" data-background="#f0e299" data-anchor-id="scaling-8">Scaling</h2>
<p>You would have:</p>
<ul>
<li><p><span class="math inline">\(\alpha\)</span> scaled by (<span class="math inline">\(c=\frac{1}{\sigma_x}\)</span>)</p></li>
<li><p><span class="math inline">\(\beta\)</span> scaled by (<span class="math inline">\(\frac{c=\frac{1}{\sigma_x}}{k=\frac{1}{\sigma_y}}\)</span>)</p></li>
</ul>
<p><span class="math display">\[c  y = c \alpha + \frac{c \beta}{k} (k x)+ c \mu\]</span></p>
<p><span class="math display">\[\frac{1}{\sigma_y}  y = \frac{1}{\sigma_y} \alpha + \frac{\sigma_x}{\sigma_y} \beta (\frac{x}{\sigma_x} )+ \frac{1}{\sigma_y} \mu\]</span></p>
<p>. . .</p>
<p>So, if you estimate a <span class="math inline">\(\beta\)</span> of 0.2, it means that a 1 s.d. increase in x leads to a 0.2 s.d. increase in y.</p>
</section>
<section id="functional-form-of-relationships" class="level2 smaller" data-background="#abc8f7">
<h2 class="smaller anchored" data-background="#abc8f7" data-anchor-id="functional-form-of-relationships">Functional form of relationships</h2>
<p>In many cases, you want to use the logarithm of a variable. This changes the interpretation of the coefficients you estimate.</p>
<p>. . .</p>
<ul>
<li><strong>log-log regression</strong>: both Y and X are in log values <span class="math inline">\(ln(Y) = \alpha + \beta \times ln(X) + \epsilon\)</span>. The interpretation of <span class="math inline">\(\beta\)</span> in this case is: <strong>one percent increase of <span class="math inline">\(x\)</span></strong> leads to <strong><span class="math inline">\(\beta\)</span> percent increase in <span class="math inline">\(y\)</span></strong>.</li>
</ul>
<p>. . .</p>
<ul>
<li><strong>log-level regression</strong>: both Y and X are in log values <span class="math inline">\(ln(Y) = \alpha + \beta \times X + \epsilon\)</span>. The interpretation of <span class="math inline">\(\beta\)</span> in this case is: <strong>one unit increase of <span class="math inline">\(x\)</span></strong> leads to <strong><span class="math inline">\(\beta\)</span> percent increase in <span class="math inline">\(y\)</span></strong>.</li>
</ul>
<p>. . .</p>
<ul>
<li><strong>level-log regression</strong>: both Y and X are in log values <span class="math inline">\(Y = \alpha + \beta \times ln(X) + \epsilon\)</span>. The interpretation of <span class="math inline">\(\beta\)</span> in this case is: <strong>one percent increase of <span class="math inline">\(x\)</span></strong> leads to <strong><span class="math inline">\(\frac{\beta}{100}\)</span> units increase in <span class="math inline">\(y\)</span></strong>.</li>
</ul>
<p><strong>Important note:</strong> the misspecification of x’s is similar to the omitted variable bias (OVB).</p>
</section>
</section>
<section id="winsorization" class="level1 smaller" data-background="#89faa7">
<h1 class="smaller" data-background="#89faa7">Winsorization</h1>
<section id="winsorization-1" class="level2 smaller" data-background="#89faa7">
<h2 class="smaller anchored" data-background="#89faa7" data-anchor-id="winsorization-1">Winsorization</h2>
<p>In real research, one very common problem is when you have outliers.</p>
<p>Outliers are observations very far from the mean. For instance, companies that have 800% of leverage (<span class="math inline">\(\frac{Debt}{TA}\)</span>). Clearly, situations like this are typing errors in the original dataset. And this is more common that one should expect.</p>
<p>Researchers avoid excluding such variables. We only exclude when it is totally necessary.</p>
<p>To avoid using these weird values, we winsorize.</p>
<p>Usually, 1% at both tails.</p>
</section>
<section id="winsorization-2" class="level2 smaller" data-background="#89faa7">
<h2 class="smaller anchored" data-background="#89faa7" data-anchor-id="winsorization-2">Winsorization</h2>
<p><strong>Look at the following dispersion graphs.</strong> Something weird?</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="fu">library</span>(foreign) </span>
<span id="cb19-3"><a href="#cb19-3"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read.dta</span>(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="fu">options</span>(<span class="at">repr.plot.width=</span><span class="dv">6</span>, <span class="at">repr.plot.height=</span><span class="dv">4</span>) </span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="fu">ggplot</span>(mydata, <span class="fu">aes</span>(<span class="at">x =</span> roe, <span class="at">y =</span> salary)) <span class="sc">+</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb19-7"><a href="#cb19-7"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Salary vs. ROE"</span>, <span class="at">x =</span> <span class="st">"ROE"</span>, <span class="at">y =</span> <span class="st">"Salary"</span>) <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="part_6_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb20-4"><a href="#cb20-4"></a>mydata <span class="op">=</span> pd.read_stata(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb20-5"><a href="#cb20-5"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))  </span>
<span id="cb20-6"><a href="#cb20-6"></a>sns.scatterplot(x <span class="op">=</span> <span class="st">"roe"</span>, y <span class="op">=</span> <span class="st">"salary"</span>, data<span class="op">=</span>mydata)</span>
<span id="cb20-7"><a href="#cb20-7"></a>sns.despine(trim<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-8"><a href="#cb20-8"></a>plt.title(<span class="st">"Salary vs. ROE"</span>)</span>
<span id="cb20-9"><a href="#cb20-9"></a>plt.xlabel(<span class="st">"ROE"</span>)</span>
<span id="cb20-10"><a href="#cb20-10"></a>plt.ylabel(<span class="st">"Salary"</span>)</span>
<span id="cb20-11"><a href="#cb20-11"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="part_6_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">use</span> <span class="st">"files/CEOSAL1.DTA"</span> , <span class="kw">replace</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="kw">twoway</span> <span class="kw">scatter</span> salary roe</span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="kw">qui</span> <span class="kw">graph</span> <span class="kw">export</span> <span class="st">"files/graph6_1.svg"</span>, <span class="kw">replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><img src="files/graph6_1.svg" class="img-fluid"></p>
</div>
</div>
</div>
</section>
<section id="winsorization-3" class="level2 smaller" data-background="#89faa7">
<h2 class="smaller anchored" data-background="#89faa7" data-anchor-id="winsorization-3">Winsorization</h2>
<p><strong>Take a look on the extreme values now.</strong></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">library</span>(foreign) </span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb22-4"><a href="#cb22-4"></a></span>
<span id="cb22-5"><a href="#cb22-5"></a>data <span class="ot">&lt;-</span> <span class="fu">read.dta</span>(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb22-6"><a href="#cb22-6"></a>data<span class="sc">$</span>w_salary     <span class="ot">&lt;-</span> <span class="fu">Winsorize</span>(data<span class="sc">$</span>salary   , <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.95</span>) , <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb22-7"><a href="#cb22-7"></a>data<span class="sc">$</span>w_roe     <span class="ot">&lt;-</span> <span class="fu">Winsorize</span>(data<span class="sc">$</span>roe   , <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.95</span>) , <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="fu">options</span>(<span class="at">repr.plot.width=</span><span class="dv">6</span>, <span class="at">repr.plot.height=</span><span class="dv">4</span>) </span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">y =</span> w_salary, <span class="at">x =</span> w_roe)) <span class="sc">+</span></span>
<span id="cb22-10"><a href="#cb22-10"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="part_6_files/figure-html/unnamed-chunk-13-3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb23-3"><a href="#cb23-3"></a></span>
<span id="cb23-4"><a href="#cb23-4"></a>mydata <span class="op">=</span> pd.read_stata(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb23-5"><a href="#cb23-5"></a>quantiles <span class="op">=</span> [<span class="fl">0.05</span>, <span class="fl">0.95</span>]</span>
<span id="cb23-6"><a href="#cb23-6"></a>mydata[<span class="st">'w_salary'</span>] <span class="op">=</span> mydata[<span class="st">'salary'</span>].clip(np.percentile(mydata[<span class="st">'salary'</span>], quantiles[<span class="dv">0</span>]), np.percentile(mydata[<span class="st">'salary'</span>], quantiles[<span class="dv">1</span>]))</span>
<span id="cb23-7"><a href="#cb23-7"></a>mydata[<span class="st">'w_roe'</span>] <span class="op">=</span> mydata[<span class="st">'roe'</span>].clip(np.percentile(mydata[<span class="st">'roe'</span>], quantiles[<span class="dv">0</span>]), np.percentile(mydata[<span class="st">'roe'</span>], quantiles[<span class="dv">1</span>]))</span>
<span id="cb23-8"><a href="#cb23-8"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))  </span>
<span id="cb23-9"><a href="#cb23-9"></a>plt.scatter(mydata[<span class="st">'w_roe'</span>], mydata[<span class="st">'w_salary'</span>])</span>
<span id="cb23-10"><a href="#cb23-10"></a>plt.xlabel(<span class="st">'Winsorized ROE'</span>)</span>
<span id="cb23-11"><a href="#cb23-11"></a>plt.ylabel(<span class="st">'Winsorized Salary'</span>)</span>
<span id="cb23-12"><a href="#cb23-12"></a>plt.title(<span class="st">'Scatter Plot of Winsorized Salary vs. Winsorized ROE'</span>)</span>
<span id="cb23-13"><a href="#cb23-13"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="part_6_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb24-1"><a href="#cb24-1"></a><span class="kw">use</span> <span class="st">"files/CEOSAL1.DTA"</span> , <span class="kw">replace</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>winsor salary , <span class="kw">gen</span>(w_salary) <span class="kw">p</span>(0.05)</span>
<span id="cb24-3"><a href="#cb24-3"></a>winsor roe , <span class="kw">gen</span>(w_roe) <span class="kw">p</span>(0.05)</span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="kw">twoway</span> <span class="kw">scatter</span> w_salary w_roe</span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="kw">qui</span> <span class="kw">graph</span> <span class="kw">export</span> <span class="st">"files/graph6_2.svg"</span>, <span class="kw">replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><img src="files/graph6_2.svg" class="img-fluid"></p>
</div>
</div>
</div>
</section>
<section id="winsorization-4" class="level2 smaller" data-background="#89faa7">
<h2 class="smaller anchored" data-background="#89faa7" data-anchor-id="winsorization-4">Winsorization</h2>
<p><strong>Finally, take a look at the statistics.</strong></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="fu">library</span>(foreign) </span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="fu">library</span>(haven)</span>
<span id="cb25-5"><a href="#cb25-5"></a></span>
<span id="cb25-6"><a href="#cb25-6"></a>data <span class="ot">&lt;-</span> <span class="fu">read.dta</span>(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb25-7"><a href="#cb25-7"></a>data<span class="sc">$</span>w_salary     <span class="ot">&lt;-</span> <span class="fu">Winsorize</span>(data<span class="sc">$</span>salary   , <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.95</span>) , <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb25-8"><a href="#cb25-8"></a>data<span class="sc">$</span>w_roe     <span class="ot">&lt;-</span> <span class="fu">Winsorize</span>(data<span class="sc">$</span>roe   , <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.95</span>) , <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb25-9"><a href="#cb25-9"></a>summary_stats <span class="ot">&lt;-</span> <span class="fu">summary</span>(data[<span class="fu">c</span>(<span class="st">"salary"</span>, <span class="st">"w_salary"</span>, <span class="st">"roe"</span>, <span class="st">"w_roe"</span>)])</span>
<span id="cb25-10"><a href="#cb25-10"></a><span class="fu">print</span>(summary_stats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     salary         w_salary         roe            w_roe      
 Min.   :  223   Min.   : 450   Min.   : 0.50   Min.   : 6.92  
 1st Qu.:  736   1st Qu.: 736   1st Qu.:12.40   1st Qu.:12.40  
 Median : 1039   Median :1039   Median :15.50   Median :15.50  
 Mean   : 1281   Mean   :1127   Mean   :17.18   Mean   :16.86  
 3rd Qu.: 1407   3rd Qu.:1407   3rd Qu.:20.00   3rd Qu.:20.00  
 Max.   :14822   Max.   :2295   Max.   :56.30   Max.   :34.38  </code></pre>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<p><strong>Python for some reason is no good.</strong></p>
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb27-3"><a href="#cb27-3"></a></span>
<span id="cb27-4"><a href="#cb27-4"></a>data <span class="op">=</span> pd.read_stata(<span class="st">"files/CEOSAL1.DTA"</span>)</span>
<span id="cb27-5"><a href="#cb27-5"></a>quantiles <span class="op">=</span> [<span class="fl">0.005</span>, <span class="fl">0.095</span>]</span>
<span id="cb27-6"><a href="#cb27-6"></a>data[<span class="st">'w_salary'</span>] <span class="op">=</span> data[<span class="st">'salary'</span>].clip(np.percentile(data[<span class="st">'salary'</span>], quantiles[<span class="dv">0</span>]), np.percentile(data[<span class="st">'salary'</span>], quantiles[<span class="dv">1</span>]))</span>
<span id="cb27-7"><a href="#cb27-7"></a>data[<span class="st">'w_roe'</span>] <span class="op">=</span> data[<span class="st">'roe'</span>].clip(np.percentile(data[<span class="st">'roe'</span>], quantiles[<span class="dv">0</span>]), np.percentile(data[<span class="st">'roe'</span>], quantiles[<span class="dv">1</span>]))</span>
<span id="cb27-8"><a href="#cb27-8"></a>summary_stats <span class="op">=</span> data[[<span class="st">"salary"</span>, <span class="st">"w_salary"</span>, <span class="st">"roe"</span>, <span class="st">"w_roe"</span>]].describe()</span>
<span id="cb27-9"><a href="#cb27-9"></a><span class="bu">print</span>(summary_stats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>             salary    w_salary         roe       w_roe
count    209.000000  209.000000  209.000000  209.000000
mean    1281.119617  229.491242   17.184210    0.775386
std     1372.345308    0.427314    8.518509    0.018128
min      223.000000  223.343200    0.500000    0.514560
25%      736.000000  229.520800   12.400000    0.776640
50%     1039.000000  229.520800   15.500000    0.776640
75%     1407.000000  229.520800   20.000000    0.776640
max    14822.000000  229.520800   56.299999    0.776640</code></pre>
</div>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb29-1"><a href="#cb29-1"></a><span class="kw">use</span> <span class="st">"files/CEOSAL1.DTA"</span> , <span class="kw">replace</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>winsor salary , <span class="kw">gen</span>(w_salary) <span class="kw">p</span>(0.05)</span>
<span id="cb29-3"><a href="#cb29-3"></a>winsor roe , <span class="kw">gen</span>(w_roe) <span class="kw">p</span>(0.05)</span>
<span id="cb29-4"><a href="#cb29-4"></a>estpost <span class="kw">tabstat</span> salary w_salary roe w_roe , <span class="fu">s</span>(<span class="fu">min</span>, <span class="kw">mean</span>, <span class="fu">max</span>, <span class="fu">sd</span>, <span class="fu">count</span>) c(<span class="fu">s</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Summary statistics: min mean max sd count
     for variables: salary w_salary roe w_roe

             |    e(min)    e(mean)     e(max)      e(sd)   e(count) 
-------------+-------------------------------------------------------
      salary |       223    1281.12      14822   1372.345        209 
    w_salary |       448   1128.306       2327    510.432        209 
         roe |        .5   17.18421       56.3   8.518509        209 
       w_roe |       6.8   16.89474       35.1   7.014505        209 </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="models-with-binary-variables" class="level1 smaller" data-background="#ed95d5">
<h1 class="smaller" data-background="#ed95d5">Models with binary variables</h1>
<section id="models-with-binary-variables-1" class="level2 smaller" data-background="#ed95d5">
<h2 class="smaller anchored" data-background="#ed95d5" data-anchor-id="models-with-binary-variables-1">Models with binary variables</h2>
<p>A binary variable is quite simple to understand: it takes the value of 0 for one group, and 1 for the other.</p>
<ul>
<li>0 for men</li>
<li>1 for women</li>
</ul>
<p>We can explore many interesting types of binary variables in most cases of corporate finance.</p>
<p>For instance, whether the firm is included in “Novo Mercado”, if the firm has high levels of ESG, etc.</p>
</section>
<section id="models-with-binary-variables-2" class="level2 smaller" data-background="#ed95d5">
<h2 class="smaller anchored" data-background="#ed95d5" data-anchor-id="models-with-binary-variables-2">Models with binary variables</h2>
<p>The interpretation is a bit trickier.</p>
<p>Let’s think about the example 7.1 of Wooldridge. He estimates the following equation:</p>
<p><span class="math display">\[wage = \beta_0 + \delta_1 female + \beta_1 educ + \mu\]</span></p>
<ul>
<li><p>In model (7.1), only two observed factors affect wage: gender and education.</p></li>
<li><p>Because <span class="math inline">\(female = 1\)</span> when the person is female, and $female = 0 $ when the person is male, the parameter <span class="math inline">\(\delta_1\)</span> has the following interpretation:</p></li>
</ul>
</section>
<section id="models-with-binary-variables-3" class="level2 smaller" data-background="#ed95d5">
<h2 class="smaller anchored" data-background="#ed95d5" data-anchor-id="models-with-binary-variables-3">Models with binary variables</h2>
<ul>
<li><span class="math inline">\(\delta_1\)</span> is the difference in hourly wage between females and males, given the same amount of education (and the same error term u).</li>
</ul>
<p>Thus, the coefficient <span class="math inline">\(\delta_1\)</span> determines whether there is discrimination against women:</p>
<ul>
<li>if <span class="math inline">\(\delta_1&lt;0\)</span>, then, for the same level of other factors, women earn less than men on average.</li>
</ul>
<p>. . .</p>
<p>In terms of expectations, if we assume the zero conditional mean assumption E(<span class="math inline">\(\mu\)</span> | female,educ) = 0, then</p>
<ul>
<li><p><span class="math inline">\(\delta_1 = E(wage | female = 1, educ) - E(wage | female = 0, educ)\)</span>, or</p></li>
<li><p><span class="math inline">\(\delta_1 = E(wage | female, educ) - E(wage | male, educ)\)</span></p></li>
<li><p>The key here is that the level of education is the same in both expectations; the difference, <span class="math inline">\(\delta_1\)</span> , is due to gender only.</p></li>
</ul>
</section>
<section id="models-with-binary-variables-4" class="level2 smaller" data-background="#ed95d5">
<h2 class="smaller anchored" data-background="#ed95d5" data-anchor-id="models-with-binary-variables-4">Models with binary variables</h2>
<p>The visual interpretation is as follows. The situation can be depicted graphically as an intercept shift between males and females. The interpretation relies on <span class="math inline">\(\delta_1\)</span>. We can observe that <span class="math inline">\(delta_1 &lt; 0\)</span>; this is an argument for existence of a gender gap in wage.</p>
<p><img src="figs/wooldridge_7_1B.png" class="img-fluid"></p>
</section>
<section id="models-with-binary-variables-5" class="level2 smaller" data-background="#ed95d5">
<h2 class="smaller anchored" data-background="#ed95d5" data-anchor-id="models-with-binary-variables-5">Models with binary variables</h2>
<p><img src="figs/wooldridge_7_1.png" class="img-fluid"></p>
</section>
<section id="models-with-binary-variables-6" class="level2 smaller" data-background="#ed95d5">
<h2 class="smaller anchored" data-background="#ed95d5" data-anchor-id="models-with-binary-variables-6">Models with binary variables</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">library</span>(foreign) </span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="fu">library</span>(haven)</span>
<span id="cb31-4"><a href="#cb31-4"></a></span>
<span id="cb31-5"><a href="#cb31-5"></a>data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"files/wage1.dta"</span>)</span>
<span id="cb31-6"><a href="#cb31-6"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(wage <span class="sc">~</span> female <span class="sc">+</span>  educ <span class="sc">+</span> exper <span class="sc">+</span> tenure , data)</span>
<span id="cb31-7"><a href="#cb31-7"></a><span class="fu">stargazer</span>(model,<span class="at">title =</span> <span class="st">"Regression Results"</span>, <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Regression Results
===============================================
                        Dependent variable:    
                    ---------------------------
                               wage            
-----------------------------------------------
female                       -1.811***         
                              (0.265)          
                                               
educ                         0.572***          
                              (0.049)          
                                               
exper                         0.025**          
                              (0.012)          
                                               
tenure                       0.141***          
                              (0.021)          
                                               
Constant                     -1.568**          
                              (0.725)          
                                               
-----------------------------------------------
Observations                    526            
R2                             0.364           
Adjusted R2                    0.359           
Residual Std. Error      2.958 (df = 521)      
F Statistic           74.398*** (df = 4; 521)  
===============================================
Note:               *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb33-3"><a href="#cb33-3"></a>data <span class="op">=</span> pd.read_stata(<span class="st">"files/wage1.dta"</span>)</span>
<span id="cb33-4"><a href="#cb33-4"></a>X <span class="op">=</span> data[[<span class="st">'female'</span>, <span class="st">'educ'</span>, <span class="st">'exper'</span>, <span class="st">'tenure'</span>]]</span>
<span id="cb33-5"><a href="#cb33-5"></a>y <span class="op">=</span> data[<span class="st">'wage'</span>]</span>
<span id="cb33-6"><a href="#cb33-6"></a>X <span class="op">=</span> sm.add_constant(X)</span>
<span id="cb33-7"><a href="#cb33-7"></a>model <span class="op">=</span> sm.OLS(y, X).fit()</span>
<span id="cb33-8"><a href="#cb33-8"></a><span class="bu">print</span>(model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   wage   R-squared:                       0.364
Model:                            OLS   Adj. R-squared:                  0.359
Method:                 Least Squares   F-statistic:                     74.40
Date:                qua, 31 jan 2024   Prob (F-statistic):           7.30e-50
Time:                        10:22:48   Log-Likelihood:                -1314.2
No. Observations:                 526   AIC:                             2638.
Df Residuals:                     521   BIC:                             2660.
Df Model:                           4                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const         -1.5679      0.725     -2.164      0.031      -2.991      -0.145
female        -1.8109      0.265     -6.838      0.000      -2.331      -1.291
educ           0.5715      0.049     11.584      0.000       0.475       0.668
exper          0.0254      0.012      2.195      0.029       0.003       0.048
tenure         0.1410      0.021      6.663      0.000       0.099       0.183
==============================================================================
Omnibus:                      185.864   Durbin-Watson:                   1.794
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              715.580
Skew:                           1.589   Prob(JB):                    4.11e-156
Kurtosis:                       7.749   Cond. No.                         141.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb35-1"><a href="#cb35-1"></a><span class="kw">use</span> <span class="st">"files/wage1.dta"</span> , <span class="kw">replace</span></span>
<span id="cb35-2"><a href="#cb35-2"></a>eststo: <span class="kw">qui</span> <span class="kw">reg</span> wage female  educ exper  tenure</span>
<span id="cb35-3"><a href="#cb35-3"></a>esttab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(est1 stored)


----------------------------
                      (1)   
                     wage   
----------------------------
female             -1.811***
                  (-6.84)   

educ                0.572***
                  (11.58)   

exper              0.0254*  
                   (2.20)   

tenure              0.141***
                   (6.66)   

_cons              -1.568*  
                  (-2.16)   
----------------------------
N                     526   
----------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="models-with-quadratic-terms" class="level1 smaller" data-background="#32a89d">
<h1 class="smaller" data-background="#32a89d">Models with quadratic terms</h1>
<section id="models-with-quadratic-terms-1" class="level2 smaller" data-background="#32a89d">
<h2 class="smaller anchored" data-background="#32a89d" data-anchor-id="models-with-quadratic-terms-1">Models with quadratic terms</h2>
<p>Let’s say you have a variable that should not show a clear linear relationship with another variable.</p>
<p>For instance, consider <strong>ownership concentration and firm value</strong>.There is a case to be made the relationship between these variable is not linear.</p>
<p>. . .</p>
<ul>
<li>In low levels of ownership concentration (let’s say 5% of shares), a small increase in it might lead to an increase in firm value. The argument is that, in such levels, an increase in ownership concentration will lead the shareholder to monitor more the management maximizing the likelihood of value increasing decisions.</li>
</ul>
<p>. . .</p>
<ul>
<li>But consider now the case where the shareholder has 60% or more of the firm’s outstanding shares. If you increase further the concentration it might signals the market that this shareholder is too powerful that might start using the firm to personal benefits (which will not be shared with minorities).</li>
</ul>
<p>. . .</p>
<p><strong>If this story is true, the relationship is (inverse) u-shaped</strong>. That is, at first the relationship is positive, then becomes negative.</p>
</section>
<section id="models-with-quadratic-terms-2" class="level2 smaller" data-background="#32a89d">
<h2 class="smaller anchored" data-background="#32a89d" data-anchor-id="models-with-quadratic-terms-2">Models with quadratic terms</h2>
<p>Theoretically, I could make an argument for a non-linear relationship between several variables of interest in finance. Let’s say size and leverage. Small firms might not be able to issue too much debt as middle size firms. At the same time, huge firms might not need debt. The empirical relationship might be non-linear.</p>
<p>. . .</p>
<p>As noted before, misspecifying the functional form of a model can create biases.</p>
<p>But, in this specific case, the problem seems minor since we have the data to fix it.</p>
<p>. . .</p>
<p>The model is:</p>
<p><span class="math display">\[y_i = \alpha + \beta_1 x_i + \beta_2 x_i^2 + \epsilon\]</span></p>
</section>
<section id="models-with-quadratic-terms-3" class="level2 smaller" data-background="#32a89d">
<h2 class="smaller anchored" data-background="#32a89d" data-anchor-id="models-with-quadratic-terms-3">Models with quadratic terms</h2>
<p><strong>How to include quadratic terms?</strong> Create the variable and include as control.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-3" role="tab" aria-controls="tabset-8-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">library</span>(foreign) </span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb37-3"><a href="#cb37-3"></a></span>
<span id="cb37-4"><a href="#cb37-4"></a>data <span class="ot">&lt;-</span> <span class="fu">read.dta</span>(<span class="st">"files/CEOSAL1.dta"</span>)</span>
<span id="cb37-5"><a href="#cb37-5"></a></span>
<span id="cb37-6"><a href="#cb37-6"></a>data<span class="sc">$</span>roe_sq <span class="ot">=</span> data<span class="sc">$</span>roe <span class="sc">*</span> data<span class="sc">$</span>roe</span>
<span id="cb37-7"><a href="#cb37-7"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(salary <span class="sc">~</span> roe, <span class="at">data=</span>data)</span>
<span id="cb37-8"><a href="#cb37-8"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(salary <span class="sc">~</span> roe <span class="sc">+</span> roe_sq, <span class="at">data=</span>data)</span>
<span id="cb37-9"><a href="#cb37-9"></a></span>
<span id="cb37-10"><a href="#cb37-10"></a><span class="fu">stargazer</span>(model1, model2, <span class="at">title =</span> <span class="st">"Regression Results"</span>, <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Regression Results
=============================================================
                               Dependent variable:           
                    -----------------------------------------
                                     salary                  
                            (1)                  (2)         
-------------------------------------------------------------
roe                       18.501*               33.474       
                          (11.123)             (36.439)      
                                                             
roe_sq                                          -0.314       
                                               (0.728)       
                                                             
Constant                 963.191***           821.423**      
                         (213.240)            (391.861)      
                                                             
-------------------------------------------------------------
Observations                209                  209         
R2                         0.013                0.014        
Adjusted R2                0.008                0.005        
Residual Std. Error 1,366.555 (df = 207) 1,369.249 (df = 206)
F Statistic         2.767* (df = 1; 207) 1.471 (df = 2; 206) 
=============================================================
Note:                             *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="im">from</span> statsmodels.iolib.summary2 <span class="im">import</span> summary_col</span>
<span id="cb39-4"><a href="#cb39-4"></a>data <span class="op">=</span> pd.read_stata(<span class="st">"files/CEOSAL1.dta"</span>)</span>
<span id="cb39-5"><a href="#cb39-5"></a>data[<span class="st">'roe_sq'</span>] <span class="op">=</span> data[<span class="st">'roe'</span>] <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb39-6"><a href="#cb39-6"></a><span class="co"># OLS model</span></span>
<span id="cb39-7"><a href="#cb39-7"></a>model1 <span class="op">=</span> sm.OLS(data[<span class="st">'salary'</span>], sm.add_constant(data[<span class="st">'roe'</span>])).fit()</span>
<span id="cb39-8"><a href="#cb39-8"></a>model2 <span class="op">=</span> sm.OLS(data[<span class="st">'salary'</span>], sm.add_constant(data[[<span class="st">'roe'</span>, <span class="st">'roe_sq'</span>]])).fit()</span>
<span id="cb39-9"><a href="#cb39-9"></a>summary <span class="op">=</span> summary_col([model1, model2], stars<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb39-10"><a href="#cb39-10"></a><span class="bu">print</span>(summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
=====================================
                 salary I  salary II 
-------------------------------------
R-squared      0.0132      0.0141    
R-squared Adj. 0.0084      0.0045    
const          963.1913*** 821.4228**
               (213.2403)  (391.8609)
roe            18.5012*    33.4737   
               (11.1233)   (36.4387) 
roe_sq                     -0.3143   
                           (0.7283)  
=====================================
Standard errors in parentheses.
* p&lt;.1, ** p&lt;.05, ***p&lt;.01</code></pre>
</div>
</div>
</div>
<div id="tabset-8-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb41-1"><a href="#cb41-1"></a><span class="kw">use</span> <span class="st">"files/CEOSAL1.DTA"</span> , <span class="kw">replace</span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="kw">gen</span> roe_sq = roe * roe</span>
<span id="cb41-3"><a href="#cb41-3"></a>eststo: <span class="kw">qui</span> <span class="kw">reg</span> salary roe </span>
<span id="cb41-4"><a href="#cb41-4"></a>eststo: <span class="kw">qui</span> <span class="kw">reg</span> salary roe roe_sq</span>
<span id="cb41-5"><a href="#cb41-5"></a>esttab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(est1 stored)

(est2 stored)


--------------------------------------------
                      (1)             (2)   
                   salary          salary   
--------------------------------------------
roe                 18.50           33.47   
                   (1.66)          (0.92)   

roe_sq                             -0.314   
                                  (-0.43)   

_cons               963.2***        821.4*  
                   (4.52)          (2.10)   
--------------------------------------------
N                     209             209   
--------------------------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="models-with-quadratic-terms-4" class="level2 smaller" data-background="#32a89d">
<h2 class="smaller anchored" data-background="#32a89d" data-anchor-id="models-with-quadratic-terms-4">Models with quadratic terms</h2>
<p>In the previous example, the quadratic term is not significant, suggesting the relationship is not quadratic.</p>
<p>Also, notice that the linear term is also not significant anymore.</p>
</section>
<section id="models-with-quadratic-terms-5" class="level2 smaller" data-background="#32a89d">
<h2 class="smaller anchored" data-background="#32a89d" data-anchor-id="models-with-quadratic-terms-5">Models with quadratic terms</h2>
<p><strong>Here, the association is non-linear? What does it mean?</strong></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-3" role="tab" aria-controls="tabset-9-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">library</span>(foreign) </span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="fu">library</span>(haven)</span>
<span id="cb43-4"><a href="#cb43-4"></a></span>
<span id="cb43-5"><a href="#cb43-5"></a>data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"files/wage1.dta"</span>)</span>
<span id="cb43-6"><a href="#cb43-6"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(lwage <span class="sc">~</span> female <span class="sc">+</span>  educ <span class="sc">+</span> exper <span class="sc">+</span> expersq <span class="sc">+</span> tenure <span class="sc">+</span> tenursq, data)</span>
<span id="cb43-7"><a href="#cb43-7"></a><span class="fu">stargazer</span>(model,<span class="at">title =</span> <span class="st">"Regression Results"</span>, <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Regression Results
===============================================
                        Dependent variable:    
                    ---------------------------
                               lwage           
-----------------------------------------------
female                       -0.297***         
                              (0.036)          
                                               
educ                         0.080***          
                              (0.007)          
                                               
exper                        0.029***          
                              (0.005)          
                                               
expersq                      -0.001***         
                             (0.0001)          
                                               
tenure                       0.032***          
                              (0.007)          
                                               
tenursq                      -0.001**          
                             (0.0002)          
                                               
Constant                     0.417***          
                              (0.099)          
                                               
-----------------------------------------------
Observations                    526            
R2                             0.441           
Adjusted R2                    0.434           
Residual Std. Error      0.400 (df = 519)      
F Statistic           68.177*** (df = 6; 519)  
===============================================
Note:               *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb45-3"><a href="#cb45-3"></a>data <span class="op">=</span> pd.read_stata(<span class="st">"files/wage1.dta"</span>)</span>
<span id="cb45-4"><a href="#cb45-4"></a>X <span class="op">=</span> data[[<span class="st">'female'</span>, <span class="st">'educ'</span>, <span class="st">'exper'</span>, <span class="st">'expersq'</span>, <span class="st">'tenure'</span>, <span class="st">'tenursq'</span>]]</span>
<span id="cb45-5"><a href="#cb45-5"></a>y <span class="op">=</span> data[<span class="st">'lwage'</span>]</span>
<span id="cb45-6"><a href="#cb45-6"></a>X <span class="op">=</span> sm.add_constant(X)</span>
<span id="cb45-7"><a href="#cb45-7"></a>model <span class="op">=</span> sm.OLS(y, X).fit()</span>
<span id="cb45-8"><a href="#cb45-8"></a><span class="bu">print</span>(model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                  lwage   R-squared:                       0.441
Model:                            OLS   Adj. R-squared:                  0.434
Method:                 Least Squares   F-statistic:                     68.18
Date:                qua, 31 jan 2024   Prob (F-statistic):           2.11e-62
Time:                        10:22:52   Log-Likelihood:                -260.59
No. Observations:                 526   AIC:                             535.2
Df Residuals:                     519   BIC:                             565.0
Df Model:                           6                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const          0.4167      0.099      4.212      0.000       0.222       0.611
female        -0.2965      0.036     -8.281      0.000      -0.367      -0.226
educ           0.0802      0.007     11.868      0.000       0.067       0.093
exper          0.0294      0.005      5.916      0.000       0.020       0.039
expersq       -0.0006      0.000     -5.431      0.000      -0.001      -0.000
tenure         0.0317      0.007      4.633      0.000       0.018       0.045
tenursq       -0.0006      0.000     -2.493      0.013      -0.001      -0.000
==============================================================================
Omnibus:                       13.111   Durbin-Watson:                   1.796
Prob(Omnibus):                  0.001   Jarque-Bera (JB):               24.212
Skew:                          -0.085   Prob(JB):                     5.53e-06
Kurtosis:                       4.037   Cond. No.                     4.49e+03
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 4.49e+03. This might indicate that there are
strong multicollinearity or other numerical problems.</code></pre>
</div>
</div>
</div>
<div id="tabset-9-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb47-1"><a href="#cb47-1"></a><span class="kw">use</span> <span class="st">"files/wage1.dta"</span> , <span class="kw">replace</span></span>
<span id="cb47-2"><a href="#cb47-2"></a>eststo: <span class="kw">qui</span> <span class="kw">reg</span> lwage female  educ exper expersq tenure tenursq</span>
<span id="cb47-3"><a href="#cb47-3"></a>esttab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(est1 stored)


----------------------------
                      (1)   
                    lwage   
----------------------------
female             -0.297***
                  (-8.28)   

educ               0.0802***
                  (11.87)   

exper              0.0294***
                   (5.92)   

expersq         -0.000583***
                  (-5.43)   

tenure             0.0317***
                   (4.63)   

tenursq         -0.000585*  
                  (-2.49)   

_cons               0.417***
                   (4.21)   
----------------------------
N                     526   
----------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="models-with-interactions" class="level1 smaller" data-background="#e3b174">
<h1 class="smaller" data-background="#e3b174">Models with Interactions</h1>
<section id="models-with-interactions-1" class="level2 smaller" data-background="#e3b174">
<h2 class="smaller anchored" data-background="#e3b174" data-anchor-id="models-with-interactions-1">Models with Interactions</h2>
<p>In some specific cases, you want to interact variables to test if the interacted effect is significant.</p>
<p>For instance, you might believe that, using Wooldridge very traditional example 7.4., women that are married are yet more discriminated in the job market than single women.</p>
<p>So, you may prefer to estimate the following equation to follow your intuition.</p>
<p><span class="math display">\[wage = \beta_0 + \beta_1 female + \beta_2 married + \beta_3 female.married + \mu\]</span></p>
<p>Where <span class="math inline">\(maried\)</span> is a binary variable marking all married people with 1, and 0 otherwise. <span class="math inline">\(female\)</span> marks 1 to women and 0 otherwise.</p>
</section>
<section id="models-with-interactions-2" class="level2 smaller" data-background="#e3b174">
<h2 class="smaller anchored" data-background="#e3b174" data-anchor-id="models-with-interactions-2">Models with Interactions</h2>
<p>In this setting</p>
<ul>
<li><p>The group of single men is the base case and is represented by <span class="math inline">\(\beta_0\)</span>. That is, both female and married are 0.</p></li>
<li><p>The group of single women is represented by <span class="math inline">\(\beta_0 + \beta_1\)</span>. That is, female is 1 but married is 0.</p></li>
<li><p>The group of married men is represented by <span class="math inline">\(\beta_0 + \beta_2\)</span>. That is, female is 0 but married is 1.</p></li>
<li><p>Finally, the group of married women is represented by <span class="math inline">\(\beta_0 + \beta_1 + \beta_2 + \beta_3\)</span>. That is, female and married are 1.</p></li>
</ul>
</section>
<section id="models-with-interactions-3" class="level2 smaller" data-background="#e3b174">
<h2 class="smaller anchored" data-background="#e3b174" data-anchor-id="models-with-interactions-3">Models with Interactions</h2>
<p>Using a random sample taken from the U.S. Current Population Survey for the year 1976, Wooldridge estimates that</p>
<ul>
<li><p><span class="math inline">\(female&lt;0\)</span></p></li>
<li><p><span class="math inline">\(married&gt;0\)</span></p></li>
<li><p><span class="math inline">\(female.married&lt;0\)</span></p></li>
</ul>
<p>This result makes sense for the 70s.</p>
</section>
<section id="models-with-interactions-4" class="level2 smaller" data-background="#e3b174">
<h2 class="smaller anchored" data-background="#e3b174" data-anchor-id="models-with-interactions-4">Models with Interactions</h2>
<p><img src="figs/wooldridge_7_4.png" class="img-fluid"></p>
</section>
<section id="models-with-interactions-5" class="level2 smaller" data-background="#e3b174">
<h2 class="smaller anchored" data-background="#e3b174" data-anchor-id="models-with-interactions-5">Models with Interactions</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-3" role="tab" aria-controls="tabset-10-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">library</span>(foreign) </span>
<span id="cb49-2"><a href="#cb49-2"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb49-3"><a href="#cb49-3"></a><span class="fu">library</span>(haven)</span>
<span id="cb49-4"><a href="#cb49-4"></a></span>
<span id="cb49-5"><a href="#cb49-5"></a>data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"files/wage1.dta"</span>)</span>
<span id="cb49-6"><a href="#cb49-6"></a>data<span class="sc">$</span>fem_mar <span class="ot">&lt;-</span> data<span class="sc">$</span>female <span class="sc">*</span> data<span class="sc">$</span>married</span>
<span id="cb49-7"><a href="#cb49-7"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(lwage <span class="sc">~</span> female <span class="sc">+</span> married <span class="sc">+</span> fem_mar <span class="sc">+</span> educ <span class="sc">+</span> exper <span class="sc">+</span> expersq <span class="sc">+</span> tenure <span class="sc">+</span> tenursq, data)</span>
<span id="cb49-8"><a href="#cb49-8"></a><span class="fu">stargazer</span>(model,<span class="at">title =</span> <span class="st">"Regression Results"</span>, <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Regression Results
===============================================
                        Dependent variable:    
                    ---------------------------
                               lwage           
-----------------------------------------------
female                       -0.110**          
                              (0.056)          
                                               
married                      0.213***          
                              (0.055)          
                                               
fem_mar                      -0.301***         
                              (0.072)          
                                               
educ                         0.079***          
                              (0.007)          
                                               
exper                        0.027***          
                              (0.005)          
                                               
expersq                      -0.001***         
                             (0.0001)          
                                               
tenure                       0.029***          
                              (0.007)          
                                               
tenursq                      -0.001**          
                             (0.0002)          
                                               
Constant                     0.321***          
                              (0.100)          
                                               
-----------------------------------------------
Observations                    526            
R2                             0.461           
Adjusted R2                    0.453           
Residual Std. Error      0.393 (df = 517)      
F Statistic           55.246*** (df = 8; 517)  
===============================================
Note:               *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb51-3"><a href="#cb51-3"></a>data <span class="op">=</span> pd.read_stata(<span class="st">"files/wage1.dta"</span>)</span>
<span id="cb51-4"><a href="#cb51-4"></a>data[<span class="st">'fem_mar'</span>] <span class="op">=</span> data[<span class="st">'female'</span>] <span class="op">*</span> data[<span class="st">'married'</span>]</span>
<span id="cb51-5"><a href="#cb51-5"></a>X <span class="op">=</span> data[[<span class="st">'female'</span>, <span class="st">'married'</span>, <span class="st">'fem_mar'</span>, <span class="st">'educ'</span>, <span class="st">'exper'</span>, <span class="st">'expersq'</span>, <span class="st">'tenure'</span>, <span class="st">'tenursq'</span>]]</span>
<span id="cb51-6"><a href="#cb51-6"></a>y <span class="op">=</span> data[<span class="st">'lwage'</span>]</span>
<span id="cb51-7"><a href="#cb51-7"></a>X <span class="op">=</span> sm.add_constant(X)</span>
<span id="cb51-8"><a href="#cb51-8"></a>model <span class="op">=</span> sm.OLS(y, X).fit()</span>
<span id="cb51-9"><a href="#cb51-9"></a><span class="bu">print</span>(model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                  lwage   R-squared:                       0.461
Model:                            OLS   Adj. R-squared:                  0.453
Method:                 Least Squares   F-statistic:                     55.25
Date:                qua, 31 jan 2024   Prob (F-statistic):           1.28e-64
Time:                        10:22:55   Log-Likelihood:                -250.96
No. Observations:                 526   AIC:                             519.9
Df Residuals:                     517   BIC:                             558.3
Df Model:                           8                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const          0.3214      0.100      3.213      0.001       0.125       0.518
female        -0.1104      0.056     -1.980      0.048      -0.220      -0.001
married        0.2127      0.055      3.842      0.000       0.104       0.321
fem_mar       -0.3006      0.072     -4.188      0.000      -0.442      -0.160
educ           0.0789      0.007     11.787      0.000       0.066       0.092
exper          0.0268      0.005      5.112      0.000       0.017       0.037
expersq       -0.0005      0.000     -4.847      0.000      -0.001      -0.000
tenure         0.0291      0.007      4.302      0.000       0.016       0.042
tenursq       -0.0005      0.000     -2.306      0.022      -0.001   -7.89e-05
==============================================================================
Omnibus:                       15.526   Durbin-Watson:                   1.785
Prob(Omnibus):                  0.000   Jarque-Bera (JB):               32.182
Skew:                          -0.062   Prob(JB):                     1.03e-07
Kurtosis:                       4.205   Cond. No.                     5.06e+03
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 5.06e+03. This might indicate that there are
strong multicollinearity or other numerical problems.</code></pre>
</div>
</div>
</div>
<div id="tabset-10-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb53-1"><a href="#cb53-1"></a><span class="kw">use</span> <span class="st">"files/wage1.dta"</span> , <span class="kw">replace</span></span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="kw">gen</span> fem_mar = female * married</span>
<span id="cb53-3"><a href="#cb53-3"></a>eststo: <span class="kw">qui</span> <span class="kw">reg</span> lwage female married fem_mar educ exper expersq tenure tenursq</span>
<span id="cb53-4"><a href="#cb53-4"></a>esttab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(est1 stored)


----------------------------
                      (1)   
                    lwage   
----------------------------
female             -0.110*  
                  (-1.98)   

married             0.213***
                   (3.84)   

fem_mar            -0.301***
                  (-4.19)   

educ               0.0789***
                  (11.79)   

exper              0.0268***
                   (5.11)   

expersq         -0.000535***
                  (-4.85)   

tenure             0.0291***
                   (4.30)   

tenursq         -0.000533*  
                  (-2.31)   

_cons               0.321** 
                   (3.21)   
----------------------------
N                     526   
----------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="linear-probability-model" class="level1 smaller" data-background="#7ae7eb">
<h1 class="smaller" data-background="#7ae7eb">Linear probability model</h1>
<section id="linear-probability-model-1" class="level2 smaller" data-background="#7ae7eb">
<h2 class="smaller anchored" data-background="#7ae7eb" data-anchor-id="linear-probability-model-1">Linear probability model</h2>
<p>When the dependent variable is binary we cannot rely on linear models as those discussed so far.</p>
<p>We need a <strong>linear probability model</strong>.</p>
<p>In such models, we are interested in how the probability of the occurrence of an event depends on the values of x. That is, we want to know <span class="math inline">\(P[y=1|x]\)</span>.</p>
<p>. . .</p>
<p>Imagine that <span class="math inline">\(y\)</span> is employment status, 0 for unemployed, 1 for employed.</p>
<p>Imagine that we are interested in estimating the probability that a person start working after a training program.</p>
<p>For these types of problem, we need a linear probability model.</p>
<p><span class="math display">\[P[y=1|x] = \beta_0+\beta_1x_1+\beta_2x_2+...+\beta_kx_k + \epsilon\]</span></p>
</section>
<section id="linear-probability-model-2" class="level2 smaller" data-background="#7ae7eb">
<h2 class="smaller anchored" data-background="#7ae7eb" data-anchor-id="linear-probability-model-2">Linear probability model</h2>
<p>The mechanics of estimating these model is similar to before, except that <span class="math inline">\(Y\)</span> is binary.</p>
<p>The interpretation of coefficients change. That is, <strong>a unit change in <span class="math inline">\(x\)</span> changes the probability of y = 1</strong>.</p>
<p>So, let’s say that <span class="math inline">\(\beta_1\)</span> is 0.05. It means that changing <span class="math inline">\(x_1\)</span> by one unit will change the probability of <span class="math inline">\(y = 1\)</span> (i.e., getting a job) in 5%, ceteris paribus.</p>
</section>
<section id="linear-probability-model-3" class="level2 smaller" data-background="#7ae7eb">
<h2 class="smaller anchored" data-background="#7ae7eb" data-anchor-id="linear-probability-model-3">Linear probability model</h2>
<p>Using Wooldridge’s example 7.29:</p>
<p><img src="figs/wooldridge_7_29.png" class="img-fluid"></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(inlf\)</span> =1 if in labor force, 1975</li>
</ul>
</section>
<section id="linear-probability-model-4" class="level2 smaller" data-background="#7ae7eb">
<h2 class="smaller anchored" data-background="#7ae7eb" data-anchor-id="linear-probability-model-4">Linear probability model</h2>
<p>The relationship between the probability of labor force participation and <span class="math inline">\(educ\)</span> is plotted in the figure below.</p>
<p>Fixing the other independent variables at 50, 5, 30, 1 and 6, respectively, the predicted probability is negative until education equals 3.84 years. This is odd, since the model is predicting negative probability of employment given a set of specific values.</p>
<p><img src="figs/wooldridge_7_3.png" class="img-fluid"></p>
</section>
<section id="linear-probability-model-5" class="level2 smaller" data-background="#7ae7eb">
<h2 class="smaller anchored" data-background="#7ae7eb" data-anchor-id="linear-probability-model-5">Linear probability model</h2>
<p><strong>Another example</strong></p>
<p>The model is predicting that <em>going from 0 to 4 kids less than 6 years old</em> reduces the probability of working by <span class="math inline">\(4\times 0.262 = 1.048\)</span>, which is impossible since it is higher than 1.</p>
<p>. . .</p>
<p><strong>The takeaway</strong></p>
<p>That is, one important caveat of a linear probability model is that probabilities might falls off of expected empirical values.</p>
<p>If this is problematic to us, we might need a different solution.</p>
</section>
<section id="linear-probability-model-6" class="level2 smaller" data-background="#7ae7eb">
<h2 class="smaller anchored" data-background="#7ae7eb" data-anchor-id="linear-probability-model-6">Linear probability model</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-3" role="tab" aria-controls="tabset-11-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="fu">library</span>(foreign) </span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="fu">library</span>(haven)</span>
<span id="cb55-4"><a href="#cb55-4"></a></span>
<span id="cb55-5"><a href="#cb55-5"></a>data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"files/mroz.dta"</span>)</span>
<span id="cb55-6"><a href="#cb55-6"></a>lpm <span class="ot">&lt;-</span> <span class="fu">lm</span>(inlf <span class="sc">~</span> nwifeinc <span class="sc">+</span> educ <span class="sc">+</span> exper <span class="sc">+</span> expersq <span class="sc">+</span> age <span class="sc">+</span> kidslt6 <span class="sc">+</span> kidsge6  , <span class="at">data =</span> data)</span>
<span id="cb55-7"><a href="#cb55-7"></a><span class="fu">stargazer</span>(lpm,<span class="at">title =</span> <span class="st">"Regression Results"</span>, <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Regression Results
===============================================
                        Dependent variable:    
                    ---------------------------
                               inlf            
-----------------------------------------------
nwifeinc                     -0.003**          
                              (0.001)          
                                               
educ                         0.038***          
                              (0.007)          
                                               
exper                        0.039***          
                              (0.006)          
                                               
expersq                      -0.001***         
                             (0.0002)          
                                               
age                          -0.016***         
                              (0.002)          
                                               
kidslt6                      -0.262***         
                              (0.034)          
                                               
kidsge6                        0.013           
                              (0.013)          
                                               
Constant                     0.586***          
                              (0.154)          
                                               
-----------------------------------------------
Observations                    753            
R2                             0.264           
Adjusted R2                    0.257           
Residual Std. Error      0.427 (df = 745)      
F Statistic           38.218*** (df = 7; 745)  
===============================================
Note:               *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb57-2"><a href="#cb57-2"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb57-3"><a href="#cb57-3"></a><span class="im">import</span> statsmodels.formula.api <span class="im">as</span> smf</span>
<span id="cb57-4"><a href="#cb57-4"></a></span>
<span id="cb57-5"><a href="#cb57-5"></a>data <span class="op">=</span> pd.read_stata(<span class="st">"files/mroz.dta"</span>)</span>
<span id="cb57-6"><a href="#cb57-6"></a>formula <span class="op">=</span> <span class="st">"inlf ~ nwifeinc + educ + exper + expersq + age + kidslt6 + kidsge6"</span></span>
<span id="cb57-7"><a href="#cb57-7"></a>model <span class="op">=</span> smf.ols(formula, data<span class="op">=</span>data).fit()</span>
<span id="cb57-8"><a href="#cb57-8"></a><span class="bu">print</span>(model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   inlf   R-squared:                       0.264
Model:                            OLS   Adj. R-squared:                  0.257
Method:                 Least Squares   F-statistic:                     38.22
Date:                qua, 31 jan 2024   Prob (F-statistic):           6.90e-46
Time:                        10:22:57   Log-Likelihood:                -423.89
No. Observations:                 753   AIC:                             863.8
Df Residuals:                     745   BIC:                             900.8
Df Model:                           7                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept      0.5855      0.154      3.798      0.000       0.283       0.888
nwifeinc      -0.0034      0.001     -2.351      0.019      -0.006      -0.001
educ           0.0380      0.007      5.151      0.000       0.024       0.052
exper          0.0395      0.006      6.962      0.000       0.028       0.051
expersq       -0.0006      0.000     -3.227      0.001      -0.001      -0.000
age           -0.0161      0.002     -6.476      0.000      -0.021      -0.011
kidslt6       -0.2618      0.034     -7.814      0.000      -0.328      -0.196
kidsge6        0.0130      0.013      0.986      0.324      -0.013       0.039
==============================================================================
Omnibus:                      169.137   Durbin-Watson:                   0.494
Prob(Omnibus):                  0.000   Jarque-Bera (JB):               36.741
Skew:                          -0.196   Prob(JB):                     1.05e-08
Kurtosis:                       1.991   Cond. No.                     3.06e+03
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 3.06e+03. This might indicate that there are
strong multicollinearity or other numerical problems.</code></pre>
</div>
</div>
</div>
<div id="tabset-11-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb59-1"><a href="#cb59-1"></a><span class="kw">use</span> <span class="st">"files/mroz.dta"</span> , <span class="kw">replace</span></span>
<span id="cb59-2"><a href="#cb59-2"></a></span>
<span id="cb59-3"><a href="#cb59-3"></a>eststo: <span class="kw">qui</span> <span class="kw">reg</span> inlf nwifeinc educ exper expersq age kidslt6 kidsge6</span>
<span id="cb59-4"><a href="#cb59-4"></a>esttab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(est1 stored)


----------------------------
                      (1)   
                     inlf   
----------------------------
nwifeinc         -0.00341*  
                  (-2.35)   

educ               0.0380***
                   (5.15)   

exper              0.0395***
                   (6.96)   

expersq         -0.000596** 
                  (-3.23)   

age               -0.0161***
                  (-6.48)   

kidslt6            -0.262***
                  (-7.81)   

kidsge6            0.0130   
                   (0.99)   

_cons               0.586***
                   (3.80)   
----------------------------
N                     753   
----------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="logit-and-probit" class="level1 smaller" data-background="#ebe0ae">
<h1 class="smaller" data-background="#ebe0ae">Logit and Probit</h1>
<section id="logit-and-probit-1" class="level2 smaller" data-background="#ebe0ae">
<h2 class="smaller anchored" data-background="#ebe0ae" data-anchor-id="logit-and-probit-1">Logit and Probit</h2>
<p>Although the linear probability model is simple to estimate and use, it has some limitations as discussed.</p>
<p>If that problem is important to us, we need a solution that addresses the problem of negative or higher than 1 probability.</p>
<p>That is, <strong>we need a binary response model</strong>.</p>
<p>. . .</p>
<p>In a binary response model, interest relies on the response probability.</p>
<p><span class="math display">\[P(y =1 | x) = P(y=1| x_1,x_2,x_3,...)\]</span></p>
<p>That is, we have a group of X variables explaining Y, which is binary. In a LPM, we assume that the response probability is linear in the parameters <span class="math inline">\(\beta\)</span>.</p>
<ul>
<li>This is the assumption that created the problem discussed above.</li>
</ul>
</section>
<section id="logit-and-probit-2" class="level2 smaller" data-background="#ebe0ae">
<h2 class="smaller anchored" data-background="#ebe0ae" data-anchor-id="logit-and-probit-2">Logit and Probit</h2>
<p>We can change that assumption to a different function.</p>
<ul>
<li>A <strong>logit</strong> model assumes a logistic function (<span class="math inline">\(G(Z)=\frac{exp(z)}{[1+exp(z)]}\)</span>)</li>
<li>A <strong>probit</strong> model assumes a standard normal cumulative distribution function (<span class="math inline">\(\int_{-inf}^{+z}\phi(v)dv\)</span>)</li>
</ul>
<p>. . .</p>
<p>The adjustment is something as follows.</p>
<p><span class="math display">\[P(y =1 | x) = G(\beta_0 + \beta_1 x_1+ \beta_2 x_2 + \beta_3 x_3)\]</span></p>
<p>Where G is either the logistic (logit) or the normal (probit) function.</p>
<p>We don’t need to memorize the functions, but we need to understand the adjustment that assuming a different function makes.</p>
<p>Basically, we will not have predicted negative values anymore because the function adjusts at very low and very high values.</p>
</section>
<section id="logit-and-probit-3" class="level2 smaller" data-background="#ebe0ae">
<h2 class="smaller anchored" data-background="#ebe0ae" data-anchor-id="logit-and-probit-3">Logit and Probit</h2>
<p><img src="figs/wooldridge_17_1.png" class="img-fluid"></p>
</section>
<section id="logit-and-probit-4" class="level2 smaller" data-background="#ebe0ae">
<h2 class="smaller anchored" data-background="#ebe0ae" data-anchor-id="logit-and-probit-4">Logit and Probit</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-3" role="tab" aria-controls="tabset-12-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="fu">library</span>(foreign) </span>
<span id="cb61-2"><a href="#cb61-2"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb61-3"><a href="#cb61-3"></a><span class="fu">library</span>(haven)</span>
<span id="cb61-4"><a href="#cb61-4"></a>data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"files/mroz.dta"</span>)</span>
<span id="cb61-5"><a href="#cb61-5"></a>lpm <span class="ot">&lt;-</span> <span class="fu">lm</span>(inlf <span class="sc">~</span> nwifeinc <span class="sc">+</span> educ <span class="sc">+</span> exper <span class="sc">+</span> expersq <span class="sc">+</span> age <span class="sc">+</span> kidslt6 <span class="sc">+</span> kidsge6  , data )</span>
<span id="cb61-6"><a href="#cb61-6"></a>logit <span class="ot">&lt;-</span> <span class="fu">glm</span>(inlf <span class="sc">~</span> nwifeinc <span class="sc">+</span> educ <span class="sc">+</span> exper <span class="sc">+</span> expersq <span class="sc">+</span> age <span class="sc">+</span> kidslt6 <span class="sc">+</span> kidsge6  , data ,<span class="at">family =</span> binomial)</span>
<span id="cb61-7"><a href="#cb61-7"></a>probit <span class="ot">&lt;-</span> <span class="fu">glm</span>(inlf <span class="sc">~</span> nwifeinc <span class="sc">+</span> educ <span class="sc">+</span> exper <span class="sc">+</span> expersq <span class="sc">+</span> age <span class="sc">+</span> kidslt6 <span class="sc">+</span> kidsge6  , data , <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> probit))</span>
<span id="cb61-8"><a href="#cb61-8"></a><span class="fu">stargazer</span>(lpm , logit, probit,<span class="at">title =</span> <span class="st">"Regression Results"</span>, <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Regression Results
===============================================================
                                Dependent variable:            
                    -------------------------------------------
                                       inlf                    
                              OLS           logistic   probit  
                              (1)              (2)       (3)   
---------------------------------------------------------------
nwifeinc                   -0.003**         -0.021**  -0.012** 
                            (0.001)          (0.008)   (0.005) 
                                                               
educ                       0.038***         0.221***  0.131*** 
                            (0.007)          (0.043)   (0.025) 
                                                               
exper                      0.039***         0.206***  0.123*** 
                            (0.006)          (0.032)   (0.019) 
                                                               
expersq                    -0.001***        -0.003*** -0.002***
                           (0.0002)          (0.001)   (0.001) 
                                                               
age                        -0.016***        -0.088*** -0.053***
                            (0.002)          (0.015)   (0.008) 
                                                               
kidslt6                    -0.262***        -1.443*** -0.868***
                            (0.034)          (0.204)   (0.118) 
                                                               
kidsge6                      0.013            0.060     0.036  
                            (0.013)          (0.075)   (0.044) 
                                                               
Constant                   0.586***           0.425     0.270  
                            (0.154)          (0.860)   (0.508) 
                                                               
---------------------------------------------------------------
Observations                  753              753       753   
R2                           0.264                             
Adjusted R2                  0.257                             
Log Likelihood                              -401.765  -401.302 
Akaike Inf. Crit.                            819.530   818.604 
Residual Std. Error    0.427 (df = 745)                        
F Statistic         38.218*** (df = 7; 745)                    
===============================================================
Note:                               *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Python</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb63-2"><a href="#cb63-2"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb63-3"><a href="#cb63-3"></a><span class="im">import</span> statsmodels.formula.api <span class="im">as</span> smf</span>
<span id="cb63-4"><a href="#cb63-4"></a><span class="im">from</span> statsmodels.iolib.summary2 <span class="im">import</span> summary_col</span>
<span id="cb63-5"><a href="#cb63-5"></a></span>
<span id="cb63-6"><a href="#cb63-6"></a>data <span class="op">=</span> pd.read_stata(<span class="st">"files/mroz.dta"</span>)</span>
<span id="cb63-7"><a href="#cb63-7"></a>lpm_model <span class="op">=</span> smf.ols(<span class="st">"inlf ~ nwifeinc + educ + exper + expersq + age + kidslt6 + kidsge6"</span>, data<span class="op">=</span>data).fit(disp<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb63-8"><a href="#cb63-8"></a>logit_model <span class="op">=</span> smf.logit(<span class="st">"inlf ~ nwifeinc + educ + exper + expersq + age + kidslt6 + kidsge6"</span>, data<span class="op">=</span>data).fit(disp<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb63-9"><a href="#cb63-9"></a>probit_model <span class="op">=</span> smf.probit(<span class="st">"inlf ~ nwifeinc + educ + exper + expersq + age + kidslt6 + kidsge6"</span>, data<span class="op">=</span>data).fit(disp<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb63-10"><a href="#cb63-10"></a>summary <span class="op">=</span> summary_col([lpm_model, logit_model,probit_model], stars<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb63-11"><a href="#cb63-11"></a><span class="bu">print</span>(summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
===============================================
                 inlf I    inlf II    inlf III 
-----------------------------------------------
Intercept      0.5855***  0.4255     0.2701    
               (0.1542)   (0.8604)   (0.5086)  
R-squared      0.2642                          
R-squared Adj. 0.2573                          
age            -0.0161*** -0.0880*** -0.0529***
               (0.0025)   (0.0146)   (0.0085)  
educ           0.0380***  0.2212***  0.1309*** 
               (0.0074)   (0.0434)   (0.0253)  
exper          0.0395***  0.2059***  0.1233*** 
               (0.0057)   (0.0321)   (0.0187)  
expersq        -0.0006*** -0.0032*** -0.0019***
               (0.0002)   (0.0010)   (0.0006)  
kidsge6        0.0130     0.0601     0.0360    
               (0.0132)   (0.0748)   (0.0435)  
kidslt6        -0.2618*** -1.4434*** -0.8683***
               (0.0335)   (0.2036)   (0.1185)  
nwifeinc       -0.0034**  -0.0213**  -0.0120** 
               (0.0014)   (0.0084)   (0.0048)  
===============================================
Standard errors in parentheses.
* p&lt;.1, ** p&lt;.05, ***p&lt;.01</code></pre>
</div>
</div>
</div>
<div id="tabset-12-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-3-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>Stata</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb65-1"><a href="#cb65-1"></a><span class="kw">use</span> <span class="st">"files/mroz.dta"</span> , <span class="kw">replace</span></span>
<span id="cb65-2"><a href="#cb65-2"></a>eststo: <span class="kw">qui</span> <span class="kw">regress</span> inlf nwifeinc educ exper expersq age kidslt6 kidsge6</span>
<span id="cb65-3"><a href="#cb65-3"></a>eststo: <span class="kw">qui</span> <span class="kw">logit</span> inlf nwifeinc educ exper expersq age kidslt6 kidsge6</span>
<span id="cb65-4"><a href="#cb65-4"></a>eststo: <span class="kw">qui</span> <span class="kw">probit</span> inlf nwifeinc educ exper expersq age kidslt6 kidsge6</span>
<span id="cb65-5"><a href="#cb65-5"></a>esttab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(est1 stored)

(est2 stored)

(est3 stored)


------------------------------------------------------------
                      (1)             (2)             (3)   
                     inlf            inlf            inlf   
------------------------------------------------------------
main                                                        
nwifeinc         -0.00341*        -0.0213*        -0.0120*  
                  (-2.35)         (-2.53)         (-2.48)   

educ               0.0380***        0.221***        0.131***
                   (5.15)          (5.09)          (5.18)   

exper              0.0395***        0.206***        0.123***
                   (6.96)          (6.42)          (6.59)   

expersq         -0.000596**      -0.00315**      -0.00189** 
                  (-3.23)         (-3.10)         (-3.15)   

age               -0.0161***      -0.0880***      -0.0529***
                  (-6.48)         (-6.04)         (-6.23)   

kidslt6            -0.262***       -1.443***       -0.868***
                  (-7.81)         (-7.09)         (-7.33)   

kidsge6            0.0130          0.0601          0.0360   
                   (0.99)          (0.80)          (0.83)   

_cons               0.586***        0.425           0.270   
                   (3.80)          (0.49)          (0.53)   
------------------------------------------------------------
N                     753             753             753   
------------------------------------------------------------
t statistics in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="logit-and-probit-5" class="level2 smaller" data-background="#ebe0ae">
<h2 class="smaller anchored" data-background="#ebe0ae" data-anchor-id="logit-and-probit-5">Logit and Probit</h2>
<p>Importantly, in a LPM model, the coefficients have similar interpretations as usual.</p>
<p>But logit and probit models lead to harder to interpret coefficients.</p>
<p>In fact, often we do not make any interpretation of these coefficients.</p>
<p>Instead, we usually transform them to arrive at an interpretation that is similar to what we have in LPM.</p>
<p>To make the magnitudes of probit and logit roughly comparable, we can multiply the probit coefficients by 1.6, or we can multiply the logit estimates by .625.</p>
<p>Also, the probit slope estimates can be divided by 2.5 to make them comparable to the LPM estimates.</p>
<p>After these adjustments, the interpretation of the logit and probit outputs are similar to LPM’s.</p>
</section>
</section>
<section id="tobit" class="level1 smaller" data-background="#ae83f2">
<h1 class="smaller" data-background="#ae83f2">Tobit</h1>
<section id="tobit-1" class="level2 smaller" data-background="#ae83f2">
<h2 class="smaller anchored" data-background="#ae83f2" data-anchor-id="tobit-1">Tobit</h2>
<p>Another problem in the dependent variable occurs when we have a <strong>limited dependent variable</strong> with a corner solution.</p>
<p>That is, a variable that ranges from zero to all positive values.</p>
<p>For instance, hours working.</p>
<ul>
<li>Nobody works less than zero hours, but individuals in the population can work many number of positive hours.</li>
</ul>
<p>When we have such type of dependent variable, we need to estimate a <strong>tobit</strong> model.</p>
</section>
<section id="tobit-2" class="level2 smaller" data-background="#ae83f2">
<h2 class="smaller anchored" data-background="#ae83f2" data-anchor-id="tobit-2">Tobit</h2>
<p><strong>Tobit can make a huge difference to the LPM model.</strong></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-3" role="tab" aria-controls="tabset-13-3" aria-selected="false">Stata</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<div class="cell" data-layout-align="center" data-output-location="default">
<details class="code-fold">
<summary>R</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="fu">library</span>(foreign) </span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb67-3"><a href="#cb67-3"></a><span class="fu">library</span>(haven)</span>
<span id="cb67-4"><a href="#cb67-4"></a><span class="fu">library</span>(AER)</span>
<span id="cb67-5"><a href="#cb67-5"></a>data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"files/mroz.dta"</span>)</span>
<span id="cb67-6"><a href="#cb67-6"></a>lpm <span class="ot">&lt;-</span> <span class="fu">lm</span>(hours <span class="sc">~</span> nwifeinc <span class="sc">+</span> educ <span class="sc">+</span> exper <span class="sc">+</span> expersq <span class="sc">+</span> age <span class="sc">+</span> kidslt6 <span class="sc">+</span> kidsge6  , <span class="at">data =</span> data)</span>
<span id="cb67-7"><a href="#cb67-7"></a>tobit <span class="ot">&lt;-</span> <span class="fu">tobit</span>(hours <span class="sc">~</span> nwifeinc <span class="sc">+</span> educ <span class="sc">+</span> exper <span class="sc">+</span> expersq <span class="sc">+</span> age <span class="sc">+</span> kidslt6 <span class="sc">+</span> kidsge6  , <span class="at">data =</span> data)</span>
<span id="cb67-8"><a href="#cb67-8"></a><span class="fu">stargazer</span>(lpm , tobit ,<span class="at">title =</span> <span class="st">"Regression Results"</span>, <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Regression Results
===============================================================
                                Dependent variable:            
                    -------------------------------------------
                                       hours                   
                              OLS                  Tobit       
                              (1)                   (2)        
---------------------------------------------------------------
nwifeinc                    -3.447               -8.814**      
                            (2.544)               (4.459)      
                                                               
educ                       28.761**              80.646***     
                           (12.955)              (21.583)      
                                                               
exper                      65.673***            131.564***     
                            (9.963)              (17.279)      
                                                               
expersq                    -0.700**              -1.864***     
                            (0.325)               (0.538)      
                                                               
age                       -30.512***            -54.405***     
                            (4.364)               (7.419)      
                                                               
kidslt6                   -442.090***           -894.022***    
                           (58.847)              (111.878)     
                                                               
kidsge6                     -32.779               -16.218      
                           (23.176)              (38.641)      
                                                               
Constant                 1,330.482***            965.305**     
                           (270.785)             (446.436)     
                                                               
---------------------------------------------------------------
Observations                  753                   753        
R2                           0.266                             
Adjusted R2                  0.259                             
Log Likelihood                                  -3,819.095     
Residual Std. Error   750.179 (df = 745)                       
F Statistic         38.495*** (df = 7; 745)                    
Wald Test                                   253.862*** (df = 7)
===============================================================
Note:                               *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">

</div>
<div id="tabset-13-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-3-tab">

</div>
</div>
</div>
</section>
</section>
<section id="economic-vs-statistical-significance" class="level1 smaller" data-background="#a1f7e3">
<h1 class="smaller" data-background="#a1f7e3">Economic vs statistical significance</h1>
<section id="economic-vs-statistical-significance-1" class="level2 smaller" data-background="#a1f7e3">
<h2 class="smaller anchored" data-background="#a1f7e3" data-anchor-id="economic-vs-statistical-significance-1">Economic vs statistical significance</h2>
<p><strong>Economic is not the same as statistical significance!</strong></p>
<ul>
<li><p>coefficients may be significantly different from 0 from a statistical perspective.</p></li>
<li><p>but their economic significance may be very small.</p></li>
<li><p>Conversely, coefficients might be economically large but with no statistical significance.</p></li>
</ul>
</section>
<section id="economic-vs-statistical-significance-2" class="level2 smaller" data-background="#a1f7e3">
<h2 class="smaller anchored" data-background="#a1f7e3" data-anchor-id="economic-vs-statistical-significance-2">Economic vs statistical significance</h2>
<p>There is considerable variation in this regard in empirical research.</p>
<p><strong>But we should always try to show economic significance alongside the statistical significance.</strong></p>
<ul>
<li><p>How large is the variation in <span class="math inline">\(y\)</span> given a unit variation in <span class="math inline">\(x\)</span>?</p></li>
<li><p>Try to put that on economic figures. A thousand? A million?</p></li>
<li><p>Perhaps more importantly, are these figures realistic?</p>
<ul>
<li>e.g., How realistic is a predicted increase in salary of 1 Million?</li>
</ul></li>
</ul>
</section>
<section id="thank-you" class="level2">
<h2 class="anchored" data-anchor-id="thank-you">THANK YOU!</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="figs/fgv.png" class="img-fluid quarto-figure quarto-figure-right figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:70%;">
<p><strong>Henrique Castro Martins</strong></p>
<ul>
<li><a href="henrique.martins@fgv.br">henrique.martins@fgv.br</a></li>
<li><a href="https://eaesp.fgv.br/en/people/henrique-castro-martins" class="uri">https://eaesp.fgv.br/en/people/henrique-castro-martins</a></li>
<li><a href="https://henriquemartins.net/">henriquemartins.net</a></li>
<li><a href="https://www.linkedin.com/in/henriquecastror/" class="uri">https://www.linkedin.com/in/henriquecastror/</a></li>
</ul>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Made using <a href="https://quarto.org/">Quarto</a>. Please, cite the website if you use the content.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>